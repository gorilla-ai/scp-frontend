{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./../src/components/area.js","webpack:///./../src/components/axis.js","webpack:///./../src/components/bar.js","webpack:///./../src/components/dashboard.js","webpack:///./../src/components/line.js","webpack:///./../src/components/pie.js","webpack:///./../src/components/table.js","webpack:///./../src/components/timeline.js","webpack:///./../src/consts/prop-types.js","webpack:///./../src/hoc/split-charts.js","webpack:///./../src/hoc/widget-provider.js","webpack:///./../src/utils/traversal.js","webpack:///./mock/imdb-key.json","webpack:///./mock/imdb-nested.json","webpack:///./mock/imdb.json","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/app.js","webpack:///./src/charts.js","webpack:///./src/dashboard.js","webpack:///./src/example-factory.js","webpack:///./src/routes.js","webpack:///./src/table.js"],"names":["log","require","getLogger","AreaChart","props","Chart","prototype","customEvent","BaseAxisChart","getChartData","series","cfg","dataCfg","propData","data","splitSeriesFunc","barKeys","xKey","bars","forEach","el","chain","groupBy","get","o","splitSeries","map","clone","cloneDeep","head","dat","set","sumBy","_coords","_origData","_seriesKey","value","splitSeriesKeyFunc","key","y","x","drawChart","chartData","valueLabels","keyLabels","chartType","colors","xAxis","yAxis","legend","stacked","onTooltip","onClick","onDoubleClick","onContextMenu","onMouseOver","plotOptions","xLabels","chartParams","chart","type","title","text","credits","enabled","merge","align","layout","verticalAlign","xType","xCats","values","flatten","i","uniq","categories","getEventParams","scope","point","matched","length","tooltip","formatter","params","call","renderToStaticMarkup","apply","customEvents","funcType","e","undefined","preventDefault","pointEvents","click","dblclick","contextmenu","mouseover","getSeriesData","seriesData","labels","seriesEl","seriesKey","name","stacking","connectNulls","isString","parseInt","sortBy","color","events","chartNode","reflowChart","reflow","nextProps","JSON","stringify","node","Component","propTypes","bool","oneOf","arrayOf","isRequired","shape","splitChart","oneOfType","objectOf","object","string","func","defaultProps","AxisChart","BarChart","vertical","GridLayout","Dashboard","layoutCfg","idx","child","children","id","state","filterables","className","filter","onFilter","cols","rowHeight","isDraggable","isResizable","chartBoard","chartGenerator","Children","childNoData","propsToOverwrite","reduce","acc","p","has","bind","handleUpdateFilter","isEmpty","w","cloneElement","handleLayoutChange","active","toggleFilter","number","h","minW","maxW","minH","maxH","static","eventInfo","keys","event","isArray","k","j","setState","omit","LineChart","BasePieChart","grouper","index","curkey","shift","sliceSize","mapValues","compact","splitSlice","setCenterText","target","centerText","sqrt2","Math","sqrt","centerX","center","plotLeft","centerY","plotTop","radius","shapeArgs","innerR","halfLength","topLeftX","topLeftY","containerNode","childNodes","centerTitle","removeChild","document","createElement","appendChild","render","position","left","top","width","height","display","justifyContent","alignItems","textAlign","holeSize","yLabel","sizes","seriesCount","s","size","innerSize","reverse","labelGenerator","slices","take","vLabels","load","redraw","labelFormatter","join","pie","legendItemClick","dataLabels","showInLegend","percentage","labs","defaultPointTooltip","distribute","val","ctr","curLabels","leafData","leaf","push","count","els","sum","leaves","aggEls","PieChart","BaseTableChart","handleEvent","eventType","table","rid","row","splitRow","agg","__raw","aggregated","item","keyObj","pick","a","label","keyPath","sortable","v","field","first","desc","TableChart","TIME_MARGIN","DEFAULT_COLOR","OPTIONS","stack","showCurrentTime","showMajorLabels","selectable","followMouse","overflowMethod","margin","BaseTimeline","parseChartData","splitGroup","timeStart","timeEnd","toString","isFunction","isPlainObject","findLast","c","random","substr","start","end","group","style","orderBy","verticalScroll","showEmptyGroup","onRangeChanged","groups","elm","content","merged","aggObj","isNil","sumSpan","visible","hiddenGroup","bindEvent","off","on","tlProps","what","origData","find","d","Date","getTime","pickBy","mouseOver","doubleClick","rangechanged","options","showTooltips","max","last","min","remove","indexOf","Timeline","_groups","isEqual","setData","items","setOptions","destroy","CSS","escape","hover","toggleClass","onChanged","DATA_ITEM_PROP","KEY_MAPPING_PROP","AGG_TYPE_PROP","splitCharts","COLORS","getChartTitle","splitChartPath","chartKey","path","getAxisChartColors","zipObject","getPieChartColors","colorIdx","slicePath","numColors","slice","renderChart","displayName","renderTooltip","fields","toWidget","BaseComponent","SplitComponent","chartProps","defaultTooltip","multiTraverse","obj","paths","defaultValue","initialState","parse","getElementById","innerHTML","envCfg","env","Routes","default","Examples","DATA","KEY_LABELS","VALUE_LABELS","DATA2","KEY_LABELS2","VALUE_LABELS2","DATA3","KEY_LABELS3","VALUE_LABELS3","lineWidth","tickWidth","tom","nicole","fillOpacity","marker","age","band","occupation","appears","teacher","criminal","b","handleClick","handleRangeChanged","movies","tvs","example","handleFilter","handleDoubleClick","widgetId","handleContextMenu","handleActorChartDoubleClick","updateStateInfo","component","interval","setInterval","clearInterval","ref","MENU","charts","dashboard","NoMatch","tag","pathname","SplitTableChart"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;;;;AC7QA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;AAEA,IAAI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","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/app.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\r\nimport AxisChart from './axis'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/area')\r\n\r\n/**\r\n * A React Area Chart<br>\r\n * Essentially an AxisChart with chartType='area'.\r\n * See [AxisChart]{@link module:AxisChart} for API\r\n * @constructor\r\n * @example\r\n\r\nimport _ from 'lodash'\r\nimport AreaChart from 'chart/components/area'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    render() {\r\n        return <AreaChart\r\n            className='c-test'\r\n            title='Area Chart by Director'\r\n            stacked\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            plotOptions={{series:{fillOpacity:0.4,marker:{enabled:false}}}}\r\n            dataCfg={{\r\n                splitChart: 'director',\r\n                splitSeries: 'actor',\r\n                x: 'year',\r\n                y: 'movies'\r\n            }} />\r\n    }\r\n})\r\n */\r\nconst AreaChart = (props) => <AxisChart {...props} chartType='area' />\r\n\r\nexport default AreaChart","import PropTypes from 'prop-types';\r\nimport React from 'react'\r\nimport _ from 'lodash'\r\nimport ReactDOMServer from 'react-dom/server'\r\nimport Highcharts from 'highcharts'\r\nimport HighchartsCustomEvents from 'highcharts-custom-events'\r\nimport toWidget from '../hoc/widget-provider'\r\n\r\nimport {DATA_ITEM_PROP, KEY_MAPPING_PROP} from '../consts/prop-types'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/bar')\r\n\r\nif (!Highcharts.Chart.prototype.customEvent) {\r\n    HighchartsCustomEvents(Highcharts)\r\n}\r\n\r\nclass BaseAxisChart extends React.Component {\r\n    static propTypes = {\r\n        stacked: PropTypes.bool,\r\n        chartType: PropTypes.oneOf(['line', 'bar', 'column', 'area']),\r\n        data: PropTypes.arrayOf(DATA_ITEM_PROP).isRequired,\r\n        dataCfg: PropTypes.shape({\r\n            splitChart: KEY_MAPPING_PROP,\r\n            x: KEY_MAPPING_PROP.isRequired,\r\n            splitSeries: PropTypes.oneOfType([\r\n                KEY_MAPPING_PROP,\r\n                PropTypes.arrayOf(KEY_MAPPING_PROP)\r\n            ]),\r\n            y: KEY_MAPPING_PROP\r\n        }).isRequired,\r\n        keyLabels: DATA_ITEM_PROP,\r\n        valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n        colors: PropTypes.object,\r\n        xAxis: PropTypes.shape({\r\n            title: PropTypes.shape({\r\n                text: PropTypes.string\r\n            }),\r\n            type: PropTypes.oneOf(['linear', 'logarithmic', 'datetime', 'category'])\r\n        }),\r\n        yAxis: PropTypes.shape({\r\n            title: PropTypes.shape({\r\n                text: PropTypes.string\r\n            })\r\n        }),\r\n        legend: PropTypes.object,\r\n        plotOptions: PropTypes.object,\r\n        onTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n        onMouseOver: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onContextMenu: PropTypes.func,\r\n        onDoubleClick: PropTypes.func\r\n    };\r\n\r\n    static defaultProps = {\r\n        stacked: false,\r\n        chartType: 'line',\r\n        onTooltip: true,\r\n        data: [],\r\n        colors: {},\r\n        xAxis: {},\r\n        yAxis: {},\r\n        legend: {},\r\n        plotOptions: {}\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.drawChart()\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n        this.reflowChart()\r\n        return JSON.stringify(nextProps.data) !== JSON.stringify(this.props.data)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawChart()\r\n    }\r\n\r\n    // Parses this.props.data into hierarchical structure\r\n    getChartData = () => {\r\n        let series = []\r\n        let {dataCfg:cfg, data:propData} = this.props\r\n\r\n        // SplitBars take y values from dynamic fields\r\n        let splitSeriesFunc = (data, barKeys, xKey) => {\r\n            let bars = {}\r\n            _.forEach(barKeys, el => {\r\n                // Aggregate y axis data using x axis\r\n                bars[el] = _.chain(data)\r\n                    .groupBy(o => _.get(o, xKey) +\r\n                        (_.get(o, cfg.splitSeries) ? ' ' + _.get(o, cfg.splitSeries) : ''))\r\n                    .map(dat => {\r\n                        let clone = _.cloneDeep(_.head(dat))\r\n                        _.set(clone, el, _.sumBy(dat, el) ? _.sumBy(dat, el) : 0)\r\n                        // Add more attributes: _coords, _origData, _seriesKey, and _chartKey.\r\n                        // _coords: Array of [x, y] coordinates\r\n                        // _origData: Original data object\r\n                        // _seriesKey: key of series. Example, if actor is the split key, this array will be 'tom' or 'nicole'\r\n                        // _chartKey: key of the chart. Example, if director is the chart key, this array will be 'martin' or 'francis'.\r\n                        clone._coords = [_.get(clone, xKey), _.get(clone, el)]\r\n                        clone._origData = dat\r\n                        clone._seriesKey = el\r\n                        return clone\r\n                    }).value()\r\n            })\r\n            return bars\r\n        }\r\n        let splitSeriesKeyFunc = (data, key) => _.groupBy(data, el => _.get(el, key))\r\n        // Take x and y coordinates if y key is set.\r\n        if (cfg.y) {\r\n            // Aggregate y axis data using x axis\r\n            series = _.chain(propData)\r\n                .groupBy(el => _.get(el, cfg.x) +\r\n                    (_.get(el, cfg.splitSeries) ? ' ' + _.get(el, cfg.splitSeries) : ''))\r\n                .map(el => {\r\n                    let clone = _.cloneDeep(_.head(el))\r\n                    _.set(clone, cfg.y, _.sumBy(el, cfg.y) ? _.sumBy(el, cfg.y) : 0)\r\n                    clone._coords = [_.get(clone, cfg.x), _.get(clone, cfg.y)]\r\n                    clone._origData = el\r\n                    clone._seriesKey = _.get(clone, cfg.splitSeries)\r\n                    return clone\r\n                }).value()\r\n        }\r\n        // Start grouping by splitChartKey and splitSeriesKey\r\n        if (cfg.y) {\r\n            series = splitSeriesKeyFunc(series, cfg.splitSeries)\r\n        }\r\n        else if (cfg.splitSeries) {\r\n            series = splitSeriesFunc(propData, cfg.splitSeries, cfg.x)\r\n        }\r\n        return series\r\n    };\r\n\r\n    // Call this after DOM is ready.\r\n    // This function can be changed based on the Chart API.\r\n    drawChart = () => {\r\n        let chartData = this.getChartData()\r\n        let {\r\n            dataCfg: cfg, valueLabels, keyLabels, chartType,\r\n            colors, xAxis, yAxis, legend, stacked,\r\n            onTooltip, onClick, onDoubleClick, onContextMenu, onMouseOver,\r\n            plotOptions\r\n        } = this.props\r\n        let xLabels = _.get(valueLabels, cfg.x)\r\n\r\n        // All charts produced by this component\r\n\r\n        // Highchart params\r\n        let chartParams = {\r\n            chart: {\r\n                type: chartType\r\n            },\r\n            title: {\r\n                text: ''\r\n            },\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            legend: _.merge({\r\n                align: 'right',\r\n                layout: 'vertical',\r\n                verticalAlign: 'top'\r\n            }, legend),\r\n            xAxis: _.merge({\r\n                type: 'linear'\r\n            }, xAxis),\r\n            yAxis: _.merge({\r\n                title: {text:''}\r\n            }, yAxis),\r\n            plotOptions\r\n        }\r\n\r\n        const xType = chartParams.xAxis.type\r\n        if (xType === 'category') {\r\n            const xCats = _(chartData)\r\n                .values()\r\n                .flatten()\r\n                .map(i=>_.get(i, cfg.x))\r\n                .uniq()\r\n                .map(i=>_.get(xLabels, i, i))\r\n                .value()\r\n\r\n            chartParams.xAxis.categories = xCats\r\n        }\r\n\r\n        // Callback functions' parameters\r\n        let getEventParams = function getEventParams(scope) {\r\n            if (!scope) { scope = 'point' }\r\n            let point = this.point ? this.point : this\r\n\r\n            // Parameters for point-scoped events\r\n            switch (scope) {\r\n                case 'point':\r\n                    return [\r\n                        {\r\n                            x: xType === 'category' ? _.get(point, cfg.x) : point.x,\r\n                            y: point.y,\r\n                            matched: point._origData.length,\r\n                            splitSeries: point._seriesKey\r\n                        },\r\n                        point._origData,\r\n                        {\r\n                            dataCfg: _.clone(cfg),\r\n                            keyLabels,\r\n                            valueLabels\r\n                        }\r\n                    ]\r\n                case 'series':\r\n                    return []\r\n                case 'chart':\r\n                    return []\r\n                default: return []\r\n            }\r\n        }\r\n\r\n        // Callback function: Tooltip\r\n        if (!onTooltip) {\r\n            chartParams.tooltip = { enabled:false }\r\n        }\r\n        else if (typeof onTooltip === 'function') {\r\n            chartParams.tooltip = {\r\n                formatter() {\r\n                    const params = getEventParams.call(this, 'point')\r\n                    return ReactDOMServer.renderToStaticMarkup(onTooltip.apply(this, params))\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            chartParams.tooltip = { enabled:true }\r\n        }\r\n\r\n        // Custom click events\r\n        let customEvents = function customEvents(funcType, scope, e) {\r\n            if (typeof funcType !== 'function' || !funcType) {\r\n                // We do not override\r\n                return undefined\r\n            }\r\n            if (!scope) {\r\n                scope = 'point'\r\n            }\r\n\r\n            e.preventDefault()\r\n            // For point, e.point refers to the point (originally \"this\")\r\n            // For column/bar chart, we can only get the point object by using \"this\"\r\n            // For future expansion, we may need to add series or chart scoped condition.\r\n            return funcType.apply(this, getEventParams.call(this, scope))\r\n        }\r\n\r\n        // Supported point events\r\n        let pointEvents = {\r\n            click(e) { return customEvents.call(this, onClick, 'point', e) },\r\n            dblclick(e) { return customEvents.call(this, onDoubleClick, 'point', e) },\r\n            contextmenu(e) { return customEvents.call(this, onContextMenu, 'point', e) },\r\n\r\n            // smallcaps because we are using highcharts custom events\r\n            mouseover(e) { return customEvents.call(this, onMouseOver, 'point', e) }\r\n        }\r\n\r\n        if (!onClick) delete pointEvents.click\r\n        if (!onDoubleClick) delete pointEvents.dblclick\r\n        if (!onContextMenu) delete pointEvents.contextmenu\r\n        if (!onMouseOver) delete pointEvents.mouseover\r\n\r\n        // Convert chart data (hierarchical structure) to specific Highchart format.\r\n        let getSeriesData = (data => {\r\n            let seriesData = []\r\n            let labels = keyLabels\r\n            if (cfg.splitSeries) {\r\n                if (cfg.y) {\r\n                    labels = _.get(valueLabels, cfg.splitSeries)\r\n                }\r\n                seriesData = _.map(data, (seriesEl, seriesKey) => ({\r\n                    // Series level properties\r\n                    name: labels && _.get(labels, seriesKey) ? _.get(labels, seriesKey) : seriesKey,\r\n                    stacking: stacked ? 'normal' : null,\r\n                    connectNulls: true, // Area chart only, connect graph line across null points.\r\n                    data: _.chain(seriesEl)\r\n                        .map(el => {\r\n                            // Point level properties\r\n                            let clone = _.cloneDeep(el)\r\n                            // Add x, y, and name properties\r\n                            if (xType !== 'category') {\r\n                                if (xType === 'datetime' && _.isString(el._coords[0])) {\r\n                                    clone.x = parseInt(el._coords[0], 10)\r\n                                }\r\n                                else {\r\n                                    clone.x = el._coords[0]\r\n                                }\r\n                            }\r\n                            clone.y = el._coords[1]\r\n                            clone.name = xLabels ? _.get(xLabels, el._coords[0], el._coords[0]) : el._coords[0]\r\n                            return clone\r\n                        })\r\n                        .sortBy('x')\r\n                        .value(),\r\n                    color: _.get(colors, seriesKey),\r\n                    point: {\r\n                        events: pointEvents\r\n                    }\r\n                }))\r\n            }\r\n            else {\r\n                // Single series only\r\n                seriesData = [{\r\n                    connectNulls: true,\r\n                    data: _.chain(_.values(data)[0])\r\n                        .map(el => {\r\n                            let clone = _.cloneDeep(el)\r\n                            if (xType !== 'category') {\r\n                                if (xType === 'datetime' && _.isString(el._coords[0])) {\r\n                                    clone.x = parseInt(el._coords[0], 10)\r\n                                }\r\n                                else {\r\n                                    clone.x = el._coords[0]\r\n                                }\r\n                            }\r\n                            clone.y = el._coords[1]\r\n                            clone.name = xLabels ? _.get(xLabels, el._coords[0], el._coords[0]) : el._coords[0]\r\n                            return clone\r\n                        })\r\n                        .sortBy('x')\r\n                        .value(),\r\n                    point: {\r\n                        events: pointEvents\r\n                    }\r\n                }]\r\n            }\r\n            return seriesData\r\n        })\r\n\r\n        let seriesData = getSeriesData(chartData)\r\n        chartParams.series = seriesData\r\n        this.chart = Highcharts.chart(this.chartNode, chartParams)\r\n    };\r\n\r\n    reflowChart = () => {\r\n        this.chart.reflow()\r\n    };\r\n\r\n    render() {\r\n        const {chartType} = this.props\r\n        return <div className={`c-chart-${chartType}`} ref={node => { this.chartNode = node }} />\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * A React Axis Chart for Line, Bar, Column, and Area chart\r\n * @alias module:AxisChart\r\n * @constructor\r\n * @param {string} [id] - Chart dom element #id\r\n * @param {string} [className] - Classname for the chart\r\n * @param {string} [title] - Title for the chart\r\n * @param {string} [chartType] - \"bar\", \"column\", \"line\", or \"area\"\r\n * @param {boolean} [stacked] - BarChart only, whether the bars are stacked instead of side-by side.\r\n * @param {array} data - Data, see below example\r\n * @param {object} dataCfg - Mapping between data shape and chart\r\n * @param {string | array.<string>} [dataCfg.splitChart] - if specified, will split into multiple charts based on the given key/path\r\n * @param {string | array.<string>} dataCfg.x - key/path for the x axis\r\n * @param {string | array.<string> | array.<array.<string>>} [dataCfg.splitSeries] - if specified, will split into different bars based on the given key/path\r\n * @param {string | array.<string>} [dataCfg.y] - key for the y axis, if not provided, then **splitSeries** is assumed to contain y value\r\n * @param {object} [keyLabels] - Key/label pairs for all the keys, see below for example\r\n * @param {object} [valueLabels] - Value/label pairs for all the values, see below for example\r\n * @param {object} [colors] - Colors for different series\r\n * @param {object} [xAxis] - config for the X axis, see Highcharts API {@link http://api.highcharts.com/highcharts/xAxis}\r\n * @param {object} [yAxis] - config for the Y axis, see Highcharts API {@link http://api.highcharts.com/highcharts/yAxis}\r\n * @param {object} [legend] - config for the legends, see Highcharts API {@link http://api.highcharts.com/highcharts/legend}\r\n * @param {object} [plotOptions] - config for the plotOptions, see Highcharts API {@link http://api.highcharts.com/highcharts/plotOptions}\r\n * @param {boolean|function} [onTooltip=true] - Tooltip for the hovered item, can be boolean or self defined rendering function as below\r\n * @param {object} onTooltip.eventInfo - info on the hovered bar\r\n * @param {number} onTooltip.eventInfo.matched - number of data items associated with this bar\r\n * @param {string} onTooltip.eventInfo.splitChart - associated chart value\r\n * @param {string} onTooltip.eventInfo.x - associated x value\r\n * @param {string} onTooltip.eventInfo.splitSeries - associated series\r\n * @param {number} onTooltip.eventInfo.y - associated y value\r\n * @param {array.<object>} onTooltip.data - dataset of the current hovered bar\r\n * @param {object} onTooltip.cfg - data related cfg for this chart\r\n * @param {object} onTooltip.cfg.dataCfg\r\n * @param {object} [onTooltip.cfg.keyLabels]\r\n * @param {object} [onTooltip.cfg.valueLabels]\r\n * @param {function} [onMouseOver] - Function to call when mouse over, see onTooltip for callback function spec\r\n * @param {function} [onClick] - Function to call when clicked, see onTooltip for callback function spec\r\n * @param {function} [onContextMenu] - Function to call when right clicked, see onTooltip for callback function spec\r\n * @param {function} [onDoubleClick] - Function to call when double clicked, see onTooltip for callback function spec\r\n *\r\n */\r\nconst AxisChart = toWidget(BaseAxisChart)\r\n\r\nexport default AxisChart","import React from 'react'\r\nimport AxisChart from './axis'\r\n\r\n\r\nlet log = require('loglevel').getLogger('chart/components/bar')\r\n\r\n/**\r\n * A React Bar Chart<br>\r\n * Essentially an AxisChart with chartType='bar'.\r\n * See [AxisChart]{@link module:AxisChart} for API\r\n * @constructor\r\n * @example\r\n\r\nimport _ from 'lodash'\r\nimport BarChart from 'chart/components/bar'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    render() {\r\n        return <div>\r\n            <BarChart\r\n                title='Actors by Year (column, stacked)'\r\n                stacked\r\n                vertical\r\n                data={DATA}\r\n                xAxis={{type:'category'}}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                onTooltip={true}\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <BarChart\r\n                title='Actors by Year (bar, side by side)'\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                colors={{\r\n                    tom:'#c1b748',\r\n                    nicole:'#2b908f'\r\n                }}\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n        </div>\r\n    }\r\n})\r\n */\r\nconst BarChart = (props) => {\r\n    const {vertical} = props\r\n    return <AxisChart {...props} chartType={vertical ? 'column' : 'bar'} />\r\n}\r\n\r\nexport default BarChart","import PropTypes from 'prop-types';\r\nimport React from 'react'\r\nimport cx from 'classnames'\r\nimport _ from 'lodash'\r\nimport ReactGridLayout, {WidthProvider} from 'react-grid-layout'\r\n\r\nimport 'react-grid-layout/css/styles.css'\r\nimport 'react-resizable/css/styles.css'\r\n\r\nimport { SIMPLE_OBJECT_PROP } from 'react-ui/build/src/consts/prop-types'\r\nimport {DATA_ITEM_PROP} from '../consts/prop-types'\r\n\r\nconst GridLayout = WidthProvider(ReactGridLayout)\r\n\r\nlet log = require('loglevel').getLogger('chart/components/dashboard')\r\n\r\n/**\r\n * A React Dashboard\r\n * @constructor\r\n * @param {string} [id] - Dashboard dom element #id\r\n * @param {string} [className] - Classname for the dashboard\r\n * @param {renderable} children - Widgets definition\r\n * @param {array.<object>} [data] - Global data for the dashboard, note this may be overwritten by data in child widget\r\n * @param {object} [keyLabels] - Global Key/label pairs for all the keys, note this may be overwritten by data in child widget\r\n * @param {object} [valueLabels] - Global Value/label pairs for all the values, note this may be overwritten by data in child widget\r\n * @param {object} [filter] - Filter to apply to data\r\n * @param {object} [layoutCfg] - Dashboard layout config\r\n * @param {array.<object>} layoutCfg.layout - The arrangement of charts in dashborad\r\n * @param {number} layoutCfg.layout.x - x position of the grid, in grid unit\r\n * @param {number} layoutCfg.layout.y - y position of the grid, in grid unit\r\n * @param {number} layoutCfg.layout.w - The width of the grid, in grid unit\r\n * @param {number} layoutCfg.layout.h - The height of the grid, in grid unit\r\n * @param {number} [layoutCfg.layout.minW=0] - The min width of the grid, in grid unit\r\n * @param {number} [layoutCfg.layout.maxW=Infinity] - The max width of the grid, in grid unit\r\n * @param {number} [layoutCfg.layout.minH=0] - The min height of the grid, in grid unit\r\n * @param {number} [layoutCfg.layout.maxH=Infinity] - The max height of the grid, in grid unit\r\n * @param {boolean} [layoutCfg.layout.static=false] - If true, this grid can't be resized and dragged\r\n * @param {boolean} [layoutCfg.layout.isDraggable=true] - Is this grid draggable\r\n * @param {boolean} [layoutCfg.layout.isResizable=true] - Is this grid resizable\r\n * @param {number} [layoutCfg.cols=12] - Number of columns in dashboard\r\n * @param {number} [layoutCfg.rowHeight=200] - Unit row height of a grid, in pixel\r\n * @param {boolean} [layoutCfg.isDraggable=true] - Is the grids draggable\r\n * @param {boolean} [layoutCfg.isResizable=true] - Is the grids resizable\r\n * @param {function} [onFilter] - Global function to call when filter is updated\r\n * @param {object} onFilter.filter - filter parameters\r\n * @param {boolean|function} [onTooltip=true] - Global tooltip for the hovered item, can be boolean or self defined rendering function as below\r\n * @param {string} onTooltip.widgetId - hovered widget id\r\n * @param {object} onTooltip.eventInfo - info on the hovered item, see onTooltip API for individual charts\r\n * @param {array.<object>} onTooltip.data - dataset of the current hovered item\r\n * @param {object} onTooltip.cfg - data related cfg for this chart\r\n * @param {object} onTooltip.cfg.dataCfg\r\n * @param {object} [onTooltip.cfg.keyLabels]\r\n * @param {object} [onTooltip.cfg.valueLabels]\r\n * @param {function} [onMouseOver] - Global function to call when mouse over, see onTooltip for callback function spec\r\n * @param {function} [onClick] - Global function to call when clicked, see onTooltip for callback function spec\r\n * @param {function} [onContextMenu] - Global function to call when right clicked, see onTooltip for callback function spec\r\n * @param {function} [onDoubleClick] - Global function to call when double clicked, see onTooltip for callback function spec\r\n *\r\n * @example\r\n\r\nimport BarChart from 'chart/components/bar'\r\nimport LineChart from 'chart/components/line'\r\nimport PieChart from 'chart/components/pie'\r\nimport AreaChart from 'chart/components/area'\r\nimport SummaryTable from 'chart/components/table'\r\nimport Dashboard from 'chart/components/dashboard'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\n\r\nReact.createClass({\r\n    getInitialState() {\r\n        return {\r\n            filter: {},\r\n            event: {}\r\n        }\r\n    },\r\n    handleFilter(filter) {\r\n        this.setState({filter})\r\n    },\r\n    handleDoubleClick(widgetId, eventInfo, data, cfg) {\r\n        this.setState({event:{type:'global double-click', widgetId, eventInfo, data, cfg}})\r\n    },\r\n    handleContextMenu(widgetId, eventInfo, data, cfg) {\r\n        this.setState({event:{type:'global right-click', widgetId, eventInfo, data, cfg}})\r\n    },\r\n    handleActorChartDoubleClick(eventInfo, data, cfg) {\r\n        this.setState({event:{type:'child double-click', eventInfo, data, cfg}})\r\n    },\r\n    render() {\r\n        const {filter} = this.state\r\n\r\n        // Set charts' layout, the order need to be same as the order in DOM\r\n        // Remember to properly set the layout, or it may crash\r\n        const layout = [\r\n            {x:0, y:0, w:9, h:2},\r\n            {x:9, y:0, w:9, h:4},\r\n            {x:0, y:2, w:9, h:6},\r\n            {x:0, y:8, w:18, h:2},\r\n            {x:9, y:4, w:9, h:4}\r\n        ]\r\n\r\n        return <Dashboard\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            onDoubleClick={this.handleDoubleClick}\r\n            onContextMenu={this.handleContextMenu}\r\n            onFilter={this.handleFilter}\r\n            filter={filter}\r\n            layoutCfg={{layout, cols:18}}>\r\n            <SummaryTable\r\n                id='actor-chart'\r\n                title='Directors table'\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitRow: [ 'actor'],\r\n                    agg: ['movies', 'tvs']\r\n                }}\r\n                onDoubleClick={this.handleActorChartDoubleClick} />\r\n            <AreaChart\r\n                id='director-split-actor-area-chart'\r\n                className='c-test'\r\n                title='Area Chart by Director'\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <PieChart\r\n                id='actor-pie-chart'\r\n                title='Pie Charts By Year'\r\n                holeSize={70}\r\n                dataCfg={{\r\n                    splitChart: 'year',\r\n                    splitSlice: ['director', 'actor'],\r\n                    sliceSize: 'movies'\r\n                }} />\r\n            <BarChart\r\n                id='actor-bar-chart'\r\n                title='Actors by Year'\r\n                stacked\r\n                vertical\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <LineChart\r\n                id='director-split-actor-line-chart'\r\n                title='Line Charts by Actor'\r\n                stacked\r\n                vertical\r\n                dataCfg={{\r\n                    splitChart: 'actor',\r\n                    splitSeries: 'director',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n        </Dashboard>\r\n    }\r\n})\r\n\r\n */\r\n\r\nclass Dashboard extends React.Component {\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        className: PropTypes.string,\r\n        children: PropTypes.node,\r\n        data: PropTypes.arrayOf(DATA_ITEM_PROP),\r\n        keyLabels: DATA_ITEM_PROP,\r\n        valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n        filter: SIMPLE_OBJECT_PROP,\r\n        layoutCfg: PropTypes.shape({\r\n            layout: PropTypes.arrayOf(\r\n                PropTypes.shape({\r\n                    x: PropTypes.number,\r\n                    y: PropTypes.number,\r\n                    w: PropTypes.number,\r\n                    h: PropTypes.number,\r\n                    minW: PropTypes.number,\r\n                    maxW: PropTypes.number,\r\n                    minH: PropTypes.number,\r\n                    maxH: PropTypes.number,\r\n                    static: PropTypes.bool,\r\n                    isDraggable: PropTypes.bool,\r\n                    isResizable: PropTypes.bool\r\n                })\r\n            ).isRequired,\r\n            cols: PropTypes.number,\r\n            rowHeight: PropTypes.number,\r\n            isDraggable: PropTypes.bool,\r\n            isResizable: PropTypes.bool\r\n        }),\r\n        onFilter: PropTypes.func,\r\n        onTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n        onMouseOver: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onContextMenu: PropTypes.func,\r\n        onDoubleClick: PropTypes.func\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let layout = []\r\n\r\n        if (props.layoutCfg) {\r\n            layout = props.layoutCfg.layout.map((el, idx) => {\r\n                const child = props.children[idx]\r\n                return {i:child.key ? `.$${child.key}` : `${child.props.id}/.${idx}`, ...el}\r\n            })\r\n        }\r\n\r\n        this.state = {\r\n            filterables: {},\r\n            layout\r\n        };\r\n    }\r\n\r\n    handleUpdateFilter = (eventInfo, matched, {dataCfg}) => {\r\n        const filter = _.reduce(dataCfg, (acc, keys, i)=>{\r\n            if (i!=='agg' && i!=='y' && i!=='sliceSize') {\r\n                const event = eventInfo[i]\r\n                if (_.isArray(keys)) {\r\n                    _.forEach(keys, (k, j)=>{\r\n                        acc[k] = event[j]\r\n                    })\r\n                }\r\n                else {\r\n                    acc[keys] = event\r\n                }\r\n            }\r\n            return acc\r\n        }, {})\r\n        this.setState({filterables:filter})\r\n    };\r\n\r\n    handleLayoutChange = (layout) => {\r\n        this.setState({layout})\r\n    };\r\n\r\n    toggleFilter = (key) => {\r\n        const {filter, onFilter} = this.props\r\n        const {filterables} = this.state\r\n\r\n        if (_.has(filter, key)) {\r\n            onFilter(_.omit(filter, key))\r\n        }\r\n        else {\r\n            onFilter({...filter, [key]:filterables[key]})\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {id, className, filter, onFilter, keyLabels, valueLabels} = this.props\r\n        const {cols=12, rowHeight=200, isDraggable=true, isResizable=true} = this.props.layoutCfg || {}\r\n        const {filterables, layout} = this.state\r\n\r\n        let chartBoard\r\n        let chartGenerator = React.Children.map(this.props.children, (child, idx) => {\r\n            // temporary workaround to fix chart data default to [] by defaultProps\r\n            const childNoData = (!child.props.data || child.props.data.length===0)\r\n\r\n            let propsToOverwrite = _.reduce(['data', 'keyLabels', 'valueLabels', 'onTooltip', 'onMouseOver', 'onClick', 'onDoubleClick', 'onContextMenu'], (acc, p)=>{\r\n                if (_.has(this.props, p) && (!_.has(child.props, p) || (p==='data'&&childNoData))) {\r\n                    if (typeof this.props[p] === 'function') {\r\n                        acc[p] = this.props[p].bind(null, child.props.id)\r\n                    }\r\n                    else {\r\n                        acc[p] = this.props[p]\r\n                    }\r\n                }\r\n                return acc\r\n            }, {})\r\n\r\n            if (onFilter) {\r\n                propsToOverwrite.onClick = this.handleUpdateFilter\r\n            }\r\n\r\n            if (!_.isEmpty(filter)) {\r\n                propsToOverwrite.data = _.filter(childNoData ? this.props.data : child.props.data, filter)\r\n            }\r\n\r\n            propsToOverwrite.className = child.props.className ? `${child.props.className} ` : ''\r\n            if (layout.length > 0 && layout[idx].w <= cols/2) {\r\n                propsToOverwrite.className += 'column'\r\n            }\r\n\r\n            return <div key={child.props.id}>{React.cloneElement(child, propsToOverwrite)}</div>\r\n        }\r\n        )\r\n\r\n        if (this.props.layoutCfg) {\r\n            chartBoard = <GridLayout\r\n                className='widgets'\r\n                layout={layout} cols={cols} rowHeight={rowHeight}\r\n                isDraggable={isDraggable} isResizable={isResizable}\r\n                onLayoutChange={this.handleLayoutChange}>\r\n                {\r\n                    chartGenerator\r\n                }\r\n            </GridLayout>\r\n        }\r\n        else {\r\n            chartBoard = <div className='widgets'>\r\n                {chartGenerator}\r\n            </div>\r\n        }\r\n\r\n        return <div id={id} className={cx('c-chart-dashboard', className)}>\r\n            { !_.isEmpty(filterables) &&\r\n                <div className='filter c-flex'>\r\n                    {\r\n                        _.map(filterables, (value, key)=>{\r\n                            return <span key={key} className={cx('c-link', {active:_.has(filter, key)})} onClick={this.toggleFilter.bind(this, key)}>\r\n                                <span className='key'>{_.get(keyLabels, key, key)}</span>\r\n                                <span className='value'>{_.get(valueLabels, [key, value], value)}</span>\r\n                            </span>\r\n                        })\r\n                    }\r\n                </div>\r\n            }\r\n\r\n            {chartBoard}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Dashboard","import React from 'react'\r\nimport AxisChart from './axis'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/line')\r\n\r\n/**\r\n * A React Line Chart<br>\r\n * Essentially an AxisChart with chartType='line'.\r\n * See [AxisChart]{@link module:AxisChart} for API\r\n * @constructor\r\n * @example\r\n\r\nimport _ from 'lodash'\r\nimport LineChart from 'chart/components/line'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    render() {\r\n        return <LineChart\r\n            title='Line Charts by Actor'\r\n            stacked\r\n            vertical\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            dataCfg={{\r\n                splitChart: 'actor',\r\n                splitSeries: 'director',\r\n                x: 'year',\r\n                y: 'movies'\r\n            }} />\r\n    }\r\n})\r\n */\r\nconst LineChart = (props) => <AxisChart {...props} chartType='line' />\r\n\r\nexport default LineChart","import PropTypes from 'prop-types';\r\nimport React from 'react'\r\nimport _ from 'lodash'\r\nimport ReactDOM from 'react-dom'\r\nimport ReactDOMServer from 'react-dom/server'\r\nimport Highcharts from 'highcharts'\r\nimport HighchartsCustomEvents from 'highcharts-custom-events'\r\n\r\nimport toWidget from '../hoc/widget-provider'\r\nimport {multiTraverse} from '../utils/traversal'\r\n\r\nimport {DATA_ITEM_PROP, KEY_MAPPING_PROP} from '../consts/prop-types'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/pie')\r\n\r\nif (!Highcharts.Chart.prototype.customEvent) {\r\n    HighchartsCustomEvents(Highcharts)\r\n}\r\n\r\nclass BasePieChart extends React.Component {\r\n    static propTypes = {\r\n        data: PropTypes.arrayOf(DATA_ITEM_PROP).isRequired,\r\n        dataCfg: PropTypes.shape({\r\n            splitChart: KEY_MAPPING_PROP,\r\n            splitSlice: PropTypes.arrayOf(KEY_MAPPING_PROP).isRequired,\r\n            sliceSize: KEY_MAPPING_PROP.isRequired\r\n        }),\r\n        keyLabels: DATA_ITEM_PROP,\r\n        valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n        centerText: PropTypes.node,\r\n        colors: PropTypes.object,\r\n        legend: PropTypes.object,\r\n        holeSize: PropTypes.number,\r\n        onTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n        onMouseOver: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onContextMenu: PropTypes.func,\r\n        onDoubleClick: PropTypes.func\r\n    };\r\n\r\n    static defaultProps = {\r\n        legend: {},\r\n        onTooltip: true,\r\n        data: [],\r\n        holeSize: 0\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.drawChart()\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n        this.reflowChart()\r\n        return JSON.stringify(nextProps.data) !== JSON.stringify(this.props.data)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawChart()\r\n    }\r\n\r\n    // Parses this.props.data into hierarchical structure\r\n    getChartData = () => {\r\n        let series = []\r\n        let {dataCfg:cfg, data:propData} = this.props\r\n        let grouper = function grouper(data, keys, index) {\r\n            let curkey = keys.shift()\r\n            if (!keys.length) {\r\n                return _.chain(data)\r\n                    .groupBy(el => _.get(el, curkey))\r\n                    .map(el => {\r\n                        let clone = _.cloneDeep(_.head(el))\r\n                        _.set(clone, cfg.sliceSize, _.sumBy(el, cfg.sliceSize))\r\n                        // Add more attributes: _coords, _origData, _seriesKey, and _chartKey.\r\n                        // _coords: Array of [x, y] coordinates\r\n                        // _origData: Original data object\r\n                        // _seriesKey: Array of key of series. Example, if year and actor is the split key, this array will be [1997, 'tom'] or [1990, 'nicole'], etc.\r\n                        // _chartKey: key of the chart. Example, if director is the chart key, this array will be 'martin' or 'francis'.\r\n                        clone._coords = [_.get(clone, curkey), _.get(clone, cfg.sliceSize)]\r\n                        clone._origData = el\r\n                        clone._seriesKey = index\r\n                        // x key is also a seriesKey in piechart.\r\n                        clone._seriesKey = [...clone._seriesKey, clone._coords[0]]\r\n                        return clone\r\n                    }).value()\r\n            }\r\n            // groupBy and mapValues will return an object with string type keys\r\n            // If the key is a numerical value, it will be converted to string.\r\n            // So when passing the keys to deeper loop, we \"get\" the keys again from the original data.\r\n            return _.chain(data)\r\n                .groupBy(el => _.get(el, curkey))\r\n                .mapValues(dat => grouper(dat, _.clone(keys), [...index, _.get(_.head(dat), curkey)]))\r\n                .value()\r\n        }\r\n        series = grouper(propData, _.compact(cfg.splitSlice), [])\r\n        return series\r\n    };\r\n\r\n    setCenterText = (e) => {\r\n        const chart = e.target\r\n        const {centerText} = this.props\r\n        const sqrt2 = Math.sqrt(2)\r\n        const centerX = chart.series[0].center[0] + chart.plotLeft\r\n        const centerY = chart.series[0].center[1] + chart.plotTop\r\n        const radius = chart.series[0].data[0].shapeArgs.innerR\r\n        const halfLength = radius/sqrt2\r\n        const topLeftX = centerX-halfLength\r\n        const topLeftY = centerY-halfLength\r\n        const length = 2*halfLength\r\n        const containerNode = this.chartNode.childNodes[0]\r\n\r\n        if (chart.centerTitle) {\r\n            containerNode.removeChild(chart.centerTitle)\r\n        }\r\n\r\n        let node = document.createElement('DIV')\r\n        containerNode.appendChild(node)\r\n\r\n\r\n        ReactDOM.render(\r\n            <div\r\n                style={{\r\n                    position: 'absolute', left: topLeftX, top: topLeftY,\r\n                    width: length, height: length,\r\n                    display: 'flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center'}}>\r\n                {centerText}\r\n            </div>,\r\n            node\r\n        )\r\n\r\n        chart.centerTitle = node\r\n    };\r\n\r\n    // Call this after DOM is ready.\r\n    // This function can be changed based on the Chart API.\r\n    drawChart = () => {\r\n        const {\r\n            legend, holeSize, colors, keyLabels, valueLabels, centerText, dataCfg: cfg,\r\n            onTooltip, onClick, onDoubleClick, onContextMenu, onMouseOver\r\n        } = this.props\r\n        let chartData = this.getChartData(),\r\n            labels = keyLabels,\r\n            yLabel = _.get(keyLabels, cfg.sliceSize, cfg.sliceSize),\r\n            sizes = [],\r\n            seriesCount = cfg.splitSlice.length\r\n\r\n        // Calculate size in a decreasing manner\r\n        /*function sumDec(n) {\r\n            if (n <= 1) return n\r\n            return n + sumDec(n-1)\r\n        }*/\r\n        /*let denominator = sumDec(seriesCount),\r\n            counter = 0*/\r\n\r\n        // Dynamically set the size and inner size of the donut chart\r\n        // Innermost slice is the biggest, and gradually becomes smaller until it reaches the outermost slice.\r\n        /*sizes = cfg.splitSlice.map(() => ({\r\n            size: ((denominator - sumDec(counter)) * 100 / denominator) + '%',\r\n            innerSize: ((denominator - sumDec(++counter)) * 100 / denominator) + '%'\r\n        }))*/\r\n        sizes = _(cfg.splitSlice)\r\n            .map((s, i) => {\r\n                const size = (100-holeSize)/seriesCount\r\n                return {\r\n                    size: (holeSize+(size*(i+1))) + '%',\r\n                    innerSize: (holeSize+(size*i)) + '%'\r\n                }\r\n            })\r\n            .reverse()\r\n            .value()\r\n\r\n        let labelGenerator = function labelGenerator(values) {\r\n            let slices = _.clone(cfg.splitSlice)\r\n            slices = _.take(slices, values.length)\r\n            return values.map(el => {\r\n                let curkey = slices.shift()\r\n                if (valueLabels) {\r\n                    let vLabels = _.get(valueLabels, curkey)\r\n                    return vLabels ? _.get(vLabels, el, el) : el\r\n                }\r\n                return el\r\n            })\r\n        }\r\n\r\n        // Highchart params\r\n        let chartParams = {\r\n            chart: {\r\n                type: 'pie',\r\n                events: centerText ? {\r\n                    load: this.setCenterText,\r\n                    redraw: this.setCenterText\r\n                } : {}\r\n            },\r\n            title: {text:''},\r\n            credits: {\r\n                enabled: false\r\n            },\r\n            legend: _.merge({\r\n                align: 'right',\r\n                layout: 'vertical',\r\n                verticalAlign: 'top',\r\n                labelFormatter() {\r\n                    return labelGenerator(this._seriesKey).join(' - ')\r\n                }\r\n            }, legend),\r\n            plotOptions: {\r\n                pie: {\r\n                    point: {\r\n                        events: {\r\n\r\n                            // Temporary fix for legend item\r\n                            // We cannot allow any child-slice to be hidden since we will need to hide the entire slice.\r\n                            legendItemClick(e) { e.preventDefault(); return false }\r\n                        }\r\n                    },\r\n                    dataLabels: {\r\n                        enabled: false\r\n                    },\r\n                    showInLegend: true\r\n                }\r\n            }\r\n        }\r\n\r\n        // Callback functions' parameters\r\n        let getEventParams = function getEventParams(scope) {\r\n            if (!scope) { scope = 'point' }\r\n            let point = this.point ? this.point : this\r\n            let params = []\r\n            // Parameters for point-scoped events\r\n            switch (scope) {\r\n                case 'point':\r\n                    params = [\r\n                        {\r\n                            sliceSize: point.y,\r\n                            percentage: point.percentage,\r\n                            splitSlice: point._seriesKey,\r\n                            matched: point._origData.length\r\n                        },\r\n                        point._origData,\r\n                        {\r\n                            dataCfg: _.clone(cfg),\r\n                            keyLabels,\r\n                            valueLabels\r\n                        }\r\n                    ]\r\n                    params[2].dataCfg.splitSlice = _.take(params[2].dataCfg.splitSlice, params[0].splitSlice.length)\r\n                    return params\r\n                case 'series':\r\n                    return []\r\n                case 'chart':\r\n                    return []\r\n                default: return []\r\n            }\r\n        }\r\n\r\n        // Callback function: Tooltip\r\n        if (typeof onTooltip === 'function') {\r\n            chartParams.tooltip = {\r\n                formatter() {\r\n                    return ReactDOMServer.renderToStaticMarkup(onTooltip.apply(this, getEventParams.call(this, 'point')))\r\n                }\r\n            }\r\n        }\r\n        else if (onTooltip) {\r\n            // Default Tooltip\r\n            chartParams.tooltip = {\r\n                formatter() {\r\n                    let labs = labelGenerator(this.point._seriesKey).join(' - ')\r\n                    let defaultPointTooltip = <span><span style={{color:this.color}}>{'\\u25CF'}</span> {yLabel}: <b>{this.y}</b><br /></span>\r\n                    return ReactDOMServer.renderToStaticMarkup(<span><b>{this.series.name}</b><br />{labs}<br />{defaultPointTooltip}</span>)\r\n                }\r\n            }\r\n        }\r\n\r\n         // Custom click events\r\n        let customEvents = function customEvents(funcType, scope, e) {\r\n            if (typeof funcType !== 'function' || !funcType) {\r\n                // We do not override\r\n                return undefined\r\n            }\r\n            if (!scope) {\r\n                scope = 'point'\r\n            }\r\n            e.preventDefault()\r\n            // For pie, e does not contain point property. We need to get \"this\" to refer to point.\r\n            // For future expansion, we may need to add series or chart scoped condition.\r\n            return funcType.apply(this, getEventParams.call(this, scope))\r\n        }\r\n        // Supported point events\r\n        let pointEvents = {\r\n            click(e) { return customEvents.call(this, onClick, 'point', e) },\r\n            dblclick(e) { return customEvents.call(this, onDoubleClick, 'point', e) },\r\n            contextmenu(e) { return customEvents.call(this, onContextMenu, 'point', e) },\r\n            // smallcaps because we are using highcharts custom events\r\n            mouseover(e) { return customEvents.call(this, onMouseOver, 'point', e) }\r\n        }\r\n        if (!onClick) delete pointEvents.click\r\n        if (!onDoubleClick) delete pointEvents.dblclick\r\n        if (!onContextMenu) delete pointEvents.contextmenu\r\n        if (!onMouseOver) delete pointEvents.mouseover\r\n\r\n        // Convert chart data (hierarchical structure) to specific Highchart format.\r\n        let getSeriesData = (data => {\r\n            let seriesData = []\r\n            let distribute = (val, keys) => {\r\n                let curkey = keys.shift(),\r\n                    ctr = keys.length,\r\n                    curLabels = _.get(valueLabels, curkey)\r\n                // Leaf part (outer part of the donut)\r\n                if (!keys.length) {\r\n                    const leafData = _.map(val, el => {\r\n                        let leaf = _.cloneDeep(el)\r\n                        leaf.y = el._coords[1]\r\n                        leaf.color = multiTraverse(colors, [curkey, el._coords[0]], null)\r\n                        leaf.name = curLabels && _.get(curLabels, el._coords[0]) ? _.get(curLabels, el._coords[0]) : el._seriesKey\r\n                        if (!seriesData[ctr]) {\r\n                            seriesData[ctr] = {\r\n                                name: labels && _.get(labels, curkey) ? _.get(labels, curkey) : curkey,\r\n                                data: [leaf],\r\n                                size: sizes[ctr].size,\r\n                                innerSize: sizes[ctr].innerSize,\r\n                                point: { events:pointEvents }\r\n                            }\r\n                        }\r\n                        else {\r\n                            seriesData[ctr].data.push(leaf)\r\n                        }\r\n                        return {\r\n                            y: _.get(leaf, 'y'),\r\n                            count: 1,\r\n                            els: [leaf],\r\n                            _seriesKey: _.get(leaf, '_seriesKey')\r\n                        }\r\n                    })\r\n                    return leafData\r\n                }\r\n                // Branch part (inner slices)\r\n                let els = _.chain(val)\r\n                    .map((el, name) => {\r\n                        let children = distribute(el, _.clone(keys))\r\n                        let {sum, count, leaves, _seriesKey} = _.reduce(children, (acc, child) => {\r\n                            if (!acc._seriesKey.length) acc._seriesKey = _.take(child._seriesKey, child._seriesKey.length-1)\r\n                            acc.sum += child.y\r\n                            acc.count += child.count\r\n                            acc.leaves = [...acc.leaves, ...child.els]\r\n                            return acc\r\n                        }, {sum:0, count:0, leaves:[], _seriesKey:[]})\r\n                        return {\r\n                            y: sum,\r\n                            color: multiTraverse(colors, [curkey, name], null),\r\n                            count,\r\n                            els: leaves,\r\n                            _origData: leaves,\r\n                            name: curLabels && _.get(curLabels, name) ? _.get(curLabels, name) : name,\r\n                            _seriesKey\r\n                        }\r\n                    }).value()\r\n                if (!seriesData[ctr]) {\r\n                    seriesData[ctr] = {\r\n                        name: labels && _.get(labels, curkey) ? _.get(labels, curkey) : curkey,\r\n                        data: els,\r\n                        size: sizes[ctr].size,\r\n                        innerSize: sizes[ctr].innerSize,\r\n                        point: { events:pointEvents }\r\n                    }\r\n                }\r\n                else {\r\n                    seriesData[ctr].data.push(...els)\r\n                }\r\n                // Combine all the origData\r\n                let aggEls = _.reduce(els, (acc, o) => {\r\n                    acc = [...acc, ..._.get(o, '_origData')]\r\n                    return acc\r\n                }, [])\r\n                return {\r\n                    y: _.sumBy(els, 'y'),\r\n                    count: _.sumBy(els, 'count'),\r\n                    els: aggEls,\r\n                    _seriesKey: _.get(_.head(els), '_seriesKey')\r\n                }\r\n            }\r\n            distribute(data, _.clone(cfg.splitSlice))\r\n            return seriesData\r\n        })\r\n        let seriesData = getSeriesData(chartData)\r\n        chartParams.series = seriesData\r\n        this.chart = Highcharts.chart(this.chartNode, chartParams)\r\n    };\r\n\r\n    reflowChart = () => {\r\n        this.chart.reflow()\r\n    };\r\n\r\n    render() {\r\n        return <div className='c-chart-pie' ref={node => { this.chartNode = node }} />\r\n    }\r\n}\r\n\r\n/**\r\n * A React Pie Chart\r\n * @constructor\r\n * @param {string} [id] - Chart dom element #id\r\n * @param {string} [className] - Classname for the chart\r\n * @param {string} [title] - Title for the chart\r\n * @param {number} [holeSize=0] - Size of donut hole in percentage (eg 70)\r\n * @param {renderable} [centerText] - What to display in center of chart\r\n * @param {array} data - Data, see below example\r\n * @param {object} dataCfg - Mapping between data shape and chart\r\n * @param {string | array.<string>} [dataCfg.splitChart] - if specified, will split into multiple charts based on the given key/path\r\n * @param {array.<string | array.<string>>} dataCfg.splitSlice - Split into multiple layers based on the given key/path\r\n * @param {string | array.<string>} dataCfg.sliceSize - key/path to indicate the size of slice\r\n * @param {object} [keyLabels] - Key/label pairs for all the keys\r\n * @param {object} [valueLabels] - Value/label pairs for all the values\r\n * @param {object} [colors] - Colors for different slices\r\n * @param {object} [legend] - config for the legends, see Highcharts API {@link http://api.highcharts.com/highcharts/legend}\r\n * @param {boolean|function} [onTooltip=true] - Tooltip for the hovered slice, can be boolean or self defined rendering function as below\r\n * @param {object} onTooltip.eventInfo - statistics for this slice\r\n * @param {number} onTooltip.eventInfo.matched - number of data items associated with this slice\r\n * @param {string} onTooltip.eventInfo.splitChart - associated chart value\r\n * @param {array} onTooltip.eventInfo.splitSlice - array of group keys associated with this slice\r\n * @param {number} onTooltip.eventInfo.size - current slice size from **sliceSize**\r\n * @param {number} onTooltip.eventInfo.percentage - percentage of current slice size in relation to total size\r\n * @param {array.<object>} onTooltip.data - dataset of the current hovered slice\r\n * @param {object} onTooltip.cfg - data related cfg for this chart\r\n * @param {object} onTooltip.cfg.dataCfg\r\n * @param {object} [onTooltip.cfg.keyLabels]\r\n * @param {object} [onTooltip.cfg.valueLabels]\r\n * @param {function} [onMouseOver] - Function to call when mouse over, see onTooltip for callback function spec\r\n * @param {function} [onClick] - Function to call when clicked, see onTooltip for callback function spec\r\n * @param {function} [onContextMenu] - Function to call when right clicked, see onTooltip for callback function spec\r\n * @param {function} [onDoubleClick] - Function to call when double clicked, see onTooltip for callback function spec\r\n *\r\n * @example\r\n\r\nimport _ from 'lodash'\r\nimport PieChart from 'chart/components/pie'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    render() {\r\n        return <div>\r\n            <PieChart\r\n                id='actor-pie-chart'\r\n                title='Pie Charts By Year'\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                holeSize={70}\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitSlice: ['year', 'actor'],\r\n                    sliceSize: 'movies'\r\n                }} />\r\n            <PieChart\r\n                id='pie-chart'\r\n                title='Single Pie Chart'\r\n                data={[\r\n                    {name:'a',age:{band:30},occupation:'teacher',appears:10},\r\n                    {name:'b',age:{band:40},occupation:'criminal',appears:15},\r\n                    {name:'c',age:{band:40},occupation:'teacher',appears:15}\r\n                ]}\r\n                colors={{\r\n                    age:{\r\n                        band:{\r\n                            30:'#c1b748',\r\n                            40:'#2b908f'\r\n                        }\r\n                    },\r\n                    occupation:{\r\n                        teacher:'#f15c80',\r\n                        criminal:'#8085e9'\r\n                    }\r\n                }}\r\n                holeSize={70}\r\n                centerText='Center'\r\n                dataCfg={{\r\n                    splitSlice: ['age.band', 'occupation'],\r\n                    sliceSize: 'appears'\r\n                }} />\r\n        </div>\r\n    }\r\n})\r\n */\r\nconst PieChart = toWidget(BasePieChart)\r\n\r\nexport default PieChart","import PropTypes from 'prop-types';\r\nimport React from 'react'\r\nimport _ from 'lodash'\r\n\r\nimport DataTable from 'react-ui/build/src/components/table'\r\nimport toWidget from '../hoc/widget-provider'\r\nimport {multiTraverse} from '../utils/traversal'\r\n\r\nimport {DATA_ITEM_PROP, KEY_MAPPING_PROP} from '../consts/prop-types'\r\n//import PageNav from '../page-nav'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/table')\r\n\r\nclass BaseTableChart extends React.Component {\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        title: PropTypes.node,\r\n        data: PropTypes.arrayOf(DATA_ITEM_PROP).isRequired,\r\n        dataCfg: PropTypes.shape({\r\n            splitRow: PropTypes.arrayOf(KEY_MAPPING_PROP).isRequired,\r\n            agg: PropTypes.arrayOf(KEY_MAPPING_PROP)\r\n            //pageSize: React.PropTypes.number\r\n        }),\r\n        keyLabels: DATA_ITEM_PROP,\r\n        valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n        onClick: PropTypes.func,\r\n        onContextMenu: PropTypes.func,\r\n        onDoubleClick: PropTypes.func\r\n    };\r\n\r\n    static defaultProps = {\r\n        data: []/*,\r\n        pageSize:10*/\r\n    };\r\n\r\n    handleEvent = (eventType, table, rid, row) => {\r\n        const {dataCfg, keyLabels, valueLabels} = this.props\r\n        const {splitRow, agg} = dataCfg\r\n        this.props[eventType](\r\n            {\r\n                matched: row.__raw.length,\r\n                splitRow: splitRow.map(k=>row[k]),\r\n                agg: agg.map(k=>row[k])\r\n            },\r\n            row.__raw,\r\n            {dataCfg, keyLabels, valueLabels}\r\n        )\r\n    };\r\n\r\n    render() {\r\n        const {id, title, data, dataCfg:{splitRow, agg}, keyLabels, valueLabels, onClick, onDoubleClick, onContextMenu} = this.props\r\n\r\n        let aggregated = _.values(_.reduce(data, (acc, item) => {\r\n            let keyObj = _.pick(item, splitRow)\r\n            let key = JSON.stringify(keyObj)\r\n            if (!acc[key]) {\r\n                acc[key] = {...keyObj, __raw:[]}\r\n            }\r\n            _.forEach(agg, a=>{\r\n                _.set(acc[key], a, _.get(acc[key], a, 0)+_.get(item, a, 0))\r\n            })\r\n\r\n            acc[key].__raw.push(item)\r\n\r\n            return acc\r\n        }, []))\r\n\r\n        return <DataTable\r\n            key={id}\r\n            id={id}\r\n            className='c-chart-table fixed-header'\r\n            caption={title}\r\n            data={aggregated}\r\n            fields={_.reduce([...splitRow, ...agg], (acc, k)=>{\r\n                return {\r\n                    ...acc,\r\n                    [k]: {\r\n                        label: _.get(keyLabels, k, k),\r\n                        keyPath: k,\r\n                        sortable: true,\r\n                        formatter: (v)=>{\r\n                            return multiTraverse(valueLabels, [k, v], v)\r\n                        }\r\n                    }\r\n                }\r\n            }, {})}\r\n            defaultSort={{\r\n                field: _.first(splitRow),\r\n                desc: false\r\n            }}\r\n            onRowClick={onClick && this.handleEvent.bind(this, 'onClick', id)}\r\n            onRowDoubleClick={onDoubleClick && this.handleEvent.bind(this, 'onDoubleClick', id)}\r\n            onRowContextMenu={onContextMenu && this.handleEvent.bind(this, 'onContextMenu', id)} />\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * A React Table Chart\r\n * @constructor\r\n * @param {string} [id] - Chart dom element #id\r\n * @param {string} [className] - Classname for the chart\r\n * @param {string} [title] - Title for the chart\r\n * @param {array} data - Data, see below example\r\n * @param {object} dataCfg - Mapping between data shape and chart\r\n * @param {string | array.<string>} [dataCfg.splitChart] - if specified, will split into multiple charts based on the given key/path\r\n * @param {array.<string | array.<string>>} dataCfg.splitRow - split into rows based on the given keys/paths\r\n * @param {array.<string | array.<string>>} [dataCfg.agg] - if specified, columns to aggregate\r\n * @param {object} [keyLabels] - Key/label pairs for all the keys, see below for example\r\n * @param {object} [valueLabels] - Value/label pairs for all the values, see below for example\r\n * @param {function} [onClick] - Function to call when clicked\r\n * @param {object} onClick.eventInfo - info on the clicked row\r\n * @param {number} onClick.eventInfo.matched - number of data items associated with this row\r\n * @param {string} onClick.eventInfo.splitChart - associated table value\r\n * @param {string} onClick.eventInfo.splitRow - associated row\r\n * @param {string} onClick.eventInfo.agg - associated aggregation\r\n * @param {object} onClick.data - data of the current hovered item\r\n * @param {object} onClick.cfg - data related cfg for this chart\r\n * @param {object} onClick.cfg.dataCfg\r\n * @param {object} [onClick.cfg.keyLabels]\r\n * @param {object} [onClick.cfg.valueLabels]\r\n * @param {function} [onContextMenu] - Function to call when right clicked, see onClick for callback function spec\r\n * @param {function} [onDoubleClick] - Function to call when double clicked, see onClick for callback function spec\r\n *\r\n * @example\r\n\r\nimport TableChart from 'chart/components/table'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    handleClick(eventInfo, data, {dataCfg, keyLabels, valueLabels}) {\r\n\r\n    },\r\n    render() {\r\n        return <TableChart\r\n            id='director-split-actor-chart'\r\n            className='c-flex'\r\n            data={DATA}\r\n            dataCfg={{\r\n                splitChart: 'director',\r\n                splitRow: ['actor', 'year'],\r\n                agg: ['movies', 'tvs']\r\n            }}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            onClick={this.handleClick} />\r\n    }\r\n})\r\n */\r\nconst TableChart = toWidget(BaseTableChart)\r\n\r\nexport default TableChart","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOMServer from 'react-dom/server'\r\nimport _ from 'lodash'\r\nimport $ from 'jquery'\r\nimport Vis from 'vis'\r\nimport 'vis/dist/vis.css'\r\n\r\nimport toWidget from '../hoc/widget-provider'\r\n\r\nimport {DATA_ITEM_PROP, KEY_MAPPING_PROP} from '../consts/prop-types'\r\n\r\nlet log = require('loglevel').getLogger('chart/components/timeline')\r\n\r\n// const TIME_MARGIN = 3600000\r\nconst TIME_MARGIN = 0\r\n\r\n// Determine the group display color, '#001B34' is from the react-ui dark color\r\nconst DEFAULT_COLOR = '#001B34'\r\n\r\nconst OPTIONS = {\r\n    stack: false,\r\n    showCurrentTime: false,\r\n    showMajorLabels: false,\r\n    selectable: false,\r\n    tooltip: {\r\n        followMouse: true,\r\n        overflowMethod: 'flip'\r\n    },\r\n    margin: 0,\r\n}\r\n\r\nclass BaseTimeline extends React.Component {\r\n    static propTypes = {\r\n        data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n        dataCfg: PropTypes.shape({\r\n            splitChart: KEY_MAPPING_PROP,\r\n            splitGroup: KEY_MAPPING_PROP.isRequired,\r\n            timeStart: KEY_MAPPING_PROP.isRequired,\r\n            timeEnd: KEY_MAPPING_PROP,\r\n            agg: PropTypes.arrayOf(KEY_MAPPING_PROP)\r\n        }),\r\n        keyLabels: DATA_ITEM_PROP,\r\n        valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n        colors: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n        verticalScroll: PropTypes.bool,\r\n        showEmptyGroup: PropTypes.bool,\r\n        /* 'background' is for TIMAP. Can be extent in the future...... */\r\n        // background: PropTypes.bool,\r\n        // legend: PropTypes.object,\r\n        onTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n        onMouseOver: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onContextMenu: PropTypes.func,\r\n        onDoubleClick: PropTypes.func,\r\n        onRangeChanged: PropTypes.func,\r\n        onChanged: PropTypes.func\r\n    };\r\n\r\n    static defaultProps = {\r\n        data: [],\r\n        verticalScroll: false,\r\n        showEmptyGroup: true,\r\n        // background: false,\r\n        onTooltip: true\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { onChanged } = this.props\r\n        this.drawChart()\r\n        if(onChanged) {\r\n            this.chart.on('changed', onChanged)\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n        return JSON.stringify(this.props.data) !== JSON.stringify(nextProps.data)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawChart()\r\n    }\r\n\r\n    parseChartData = () => {\r\n        const {data: propData, dataCfg, colors,\r\n            keyLabels, valueLabels, onTooltip\r\n            //, background\r\n        } = this.props\r\n\r\n        const cfg = {dataCfg, keyLabels, valueLabels}\r\n\r\n        const data = _(propData)\r\n            .map(el => {\r\n                const eventInfo = {\r\n                    matched: 1,\r\n                    splitGroup: _.get(el, dataCfg.splitGroup),\r\n                    timeStart: _.get(el, dataCfg.timeStart || 'timeStart'),\r\n                    timeEnd: _.get(el, dataCfg.timeEnd || dataCfg.timeStart || 'timeStart'),\r\n                    agg: _(el).pick(dataCfg.agg).values().map(_.toString).value()\r\n                }\r\n\r\n                const tooltip = onTooltip\r\n                                ? ReactDOMServer.renderToStaticMarkup(onTooltip.apply(this, [eventInfo, el, cfg]))\r\n                                : null\r\n\r\n                let color = DEFAULT_COLOR\r\n                if (_.isFunction(colors)) {\r\n                    color = colors(eventInfo, el, cfg)\r\n                }\r\n                else if (_.isPlainObject(colors)) {\r\n                    color = _.findLast(colors, (c, k) => (el[k] > 0)) || _.head(_.values(colors))\r\n                }\r\n\r\n                return {\r\n                    // *id* is for get origin data later\r\n                    id: Math.random().toString(36).substr(2, 9),\r\n                    className: el.className || '',\r\n                    start: _.get(el, dataCfg.timeStart || 'timeStart'),\r\n                    end: _.get(el, dataCfg.timeEnd) || _.get(el, dataCfg.timeStart || 'timeStart'),\r\n                    // group-key will map the id value in *groups*\r\n                    group: _.get(el, dataCfg.splitGroup),\r\n                    type: el.type || 'range',\r\n                    style: `background-color: ${color}; opacity: 0.5;`,\r\n                    title: `${tooltip}`,\r\n                    // *_origData* is a custom key\r\n                    _origData: el\r\n                }\r\n            })\r\n            .orderBy(['start', 'end'])\r\n            .value()\r\n\r\n        // if (background) {\r\n        //     const start = _.head(data).start\r\n        //     const end = _.last(data).end\r\n\r\n        //     data.push({\r\n        //         // *id* is for get origin data later\r\n        //         id: 'timeline-background',\r\n        //         start,\r\n        //         end,\r\n        //         type: 'background',\r\n        //         // style: `background-color: ${color};`\r\n        //         /* editable seems not work with type background...... */\r\n        //         // editable: { updateTime:true }\r\n        //     })\r\n        // }\r\n\r\n        return data\r\n    };\r\n\r\n    drawChart = () => {\r\n        const {\r\n            dataCfg, colors, verticalScroll, showEmptyGroup, keyLabels, valueLabels,\r\n            onMouseOver, onClick, onContextMenu, onDoubleClick, onRangeChanged\r\n        } = this.props\r\n\r\n        const data = this.parseChartData()\r\n        const groups = _(data)\r\n            .groupBy('group')\r\n            .map((elm, key) => {\r\n                const content = _.chain(valueLabels).get(dataCfg.splitGroup).get(key).value() || key\r\n                const merged = _.reduce(elm, (acc, el) => {\r\n                    const aggObj = _.pick(el._origData, dataCfg.agg)\r\n                    _.forEach(aggObj, (e, k) => {\r\n                        acc[k] = _.isNil(acc[k]) ? e : acc[k] + e\r\n                    })\r\n\r\n                    return acc\r\n                }, {})\r\n                const count = _.chain(merged).values().sum().value()\r\n\r\n                // Determine the group display color, '#001B34' is from the react-ui dark color\r\n                let color = DEFAULT_COLOR\r\n                if (_.isFunction(colors)) {\r\n                    const eventInfo = {\r\n                        matched: elm.length,\r\n                        splitGroup: key,\r\n                        timeStart: elm[0].start,\r\n                        timeEnd: elm[elm.length - 1].end,\r\n                        agg: _(merged).values().map(_.toString).value()\r\n                    }\r\n\r\n                    color = colors(eventInfo, merged, {dataCfg, keyLabels, valueLabels})\r\n                }\r\n                else if (_.isPlainObject(colors)) {\r\n                    color = _.findLast(colors, (c, k) => (merged[k] > 0))\r\n                }\r\n\r\n                const sumSpan = count > 0\r\n                                ? `<span class='tl-group-sum' style=\"background:${color};\">${count}</span>`\r\n                                : ''\r\n\r\n                return {\r\n                    // *id* is for mapping group in Vis timeline\r\n                    // *content* is group text on timeline left side\r\n                    id: key,\r\n                    // Developer can adjust group's style via its className.\r\n                    // For the row height, need to adjust height of\r\n                    // (.vis-label .vis-inner) and (.vis-item.vis-range)\r\n                    // Accurate selector is preferable.\r\n                    className: key,\r\n                    content: `<span class=\"tl-group-label\">${content}</span> ${sumSpan}`,\r\n                    visible: (count > 0) || showEmptyGroup,\r\n                    // *count* is a custom key\r\n                    count\r\n                }\r\n            })\r\n            .orderBy('id')\r\n            .values()\r\n            .value()\r\n\r\n        // For removing the empty group's data\r\n        const hiddenGroup = _(groups)\r\n                            .filter(el => el.count === 0)\r\n                            .map('id')\r\n                            .value()\r\n\r\n        const bindEvent = function bindEvent(chart, events) {\r\n            chart.off('click')\r\n            _.forEach(events, (el, key) => {\r\n                chart.on(key, tlProps => {\r\n                    // Only items' events can be triggered\r\n                    if (key !== 'rangechanged' && tlProps.what === 'item') {\r\n                        const origData = _.find(data, {id:tlProps.item})._origData\r\n                        const eventInfo = {\r\n                            matched: 1,\r\n                            splitGroup: tlProps.group,\r\n                            agg: dataCfg.agg\r\n                        }\r\n\r\n                        el(eventInfo, origData, {dataCfg, keyLabels, valueLabels})\r\n                    }\r\n                    else if (key === 'rangechanged') {\r\n                        const origData = _.map(data, d => { return d._origData })\r\n                        const eventInfo = {\r\n                            matched: data.length,\r\n                            agg: dataCfg.agg,\r\n                            timeStart: new Date(tlProps.start).getTime(),\r\n                            timeEnd: new Date(tlProps.end).getTime()\r\n                        }\r\n\r\n                        el(eventInfo, origData, {dataCfg, keyLabels, valueLabels})\r\n                    }\r\n\r\n                    if (tlProps.event) {\r\n                        tlProps.event.preventDefault()\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n        const events = _.pickBy({\r\n            mouseOver: onMouseOver,\r\n            click: onClick,\r\n            contextmenu: onContextMenu,\r\n            doubleClick: onDoubleClick,\r\n            rangechanged: onRangeChanged\r\n        }, _.isFunction)\r\n\r\n        const options = {\r\n            ...OPTIONS,\r\n            verticalScroll,\r\n            showTooltips: !!this.props.onTooltip,\r\n            max: _.last(data).end + TIME_MARGIN,\r\n            min: _.head(data).start - TIME_MARGIN\r\n        }\r\n\r\n        // Remove the empty group's data\r\n        if (!_.isEmpty(hiddenGroup) && showEmptyGroup) {\r\n            _.remove(data, el => { return _.indexOf(hiddenGroup, el.group) !== -1 })\r\n        }\r\n        // let data1 = _.map(data, el => {\r\n        //     return _.filter(el, (el) => {\r\n        //         return _.indexOf(hiddenGroup, el.group) !== -1 && el.type !== 'background'\r\n        //     })\r\n        // })\r\n        if (!this.chart) {\r\n            this.chart = new Vis.Timeline(this.chartNode, data, groups, options);\r\n            this._groups = groups\r\n        } else {\r\n            if(_.isEqual(this._groups, groups)) {\r\n                this.chart.setData({\r\n                    // groups: groups,\r\n                    items: data\r\n                });\r\n                this.chart.setOptions(options);\r\n            } else {\r\n                this.chart.destroy();\r\n                this.chart = new Vis.Timeline(this.chartNode, data, groups, options);\r\n                this._groups = groups\r\n            }\r\n        }\r\n        \r\n        // Bind events\r\n        bindEvent(this.chart, events)\r\n        // Show hover style when hover on a row\r\n        _.forEach(groups, el => {\r\n            $(`.${CSS.escape(el.className)}`).hover(() => {\r\n                $(`.${CSS.escape(el.className)}`).toggleClass('js-hovered')\r\n            })\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return <div className='c-chart-timeline' ref={node => { this.chartNode = node }} />\r\n    }\r\n}\r\n\r\n/**\r\n * A React Timeline Chart\r\n * @constructor\r\n * @param {string} [id] - Chart dom element #id\r\n * @param {string} [className] - Classname for the chart\r\n * @param {string} [title] - Title for the chart\r\n * @param {array} data - Data, see below example\r\n * @param {object} dataCfg - Mapping between data shape and chart\r\n * @param {string | array.<string>} [dataCfg.splitChart] - if specified, will split into multiple charts based on the given key/path\r\n * @param {string | array.<string>} dataCfg.splitGroup - key/path to indiciate group\r\n * @param {string | array.<string>} dataCfg.timeStart - key/path to indicate the start of the range\r\n * @param {string | array.<string>} [dataCfg.timeEnd=timeStart] - key/path to indicate the end of range\r\n * @param {array.<string | array.<string>>} [dataCfg.agg] - if specified, fields to aggregate count for\r\n * @param {object} [keyLabels] - Key/label pairs for all the keys\r\n * @param {object} [valueLabels] - Value/label pairs for all the values\r\n * @param {object | function} [colors] - Colors for different aggregations. For function type, see onTooltip for callback function spec\r\n * @param {bool} [verticalScroll=false] - Show vertical scrollbar?\r\n * @param {bool} [showEmptyGroup=true] - Show groups which data are empty?\r\n * @param {object} [legend] - config for the legends, see Highcharts API {@link http://api.highcharts.com/highcharts/legend}\r\n * @param {boolean|function} [onTooltip=true] - Tooltip for the hovered bar, can be boolean or self defined rendering function as below\r\n * @param {object} onTooltip.eventInfo - statistics for this bar\r\n * @param {number} onTooltip.eventInfo.matched - number of data items associated with this bar\r\n * @param {string} onTooltip.eventInfo.splitChart - associated chart value\r\n * @param {array} onTooltip.eventInfo.splitGroup - associated group value\r\n * @param {number} onTooltip.eventInfo.timeStart - associated timeStart timestamp value\r\n * @param {number} onTooltip.eventInfo.timeEnd - associated timeEnd timestamp value\r\n * @param {array.<string>} onTooltip.eventInfo.agg - array of aggregated counts\r\n * @param {object} onTooltip.data - data of the current hovered bar\r\n * @param {object} onTooltip.cfg - data related cfg for this chart\r\n * @param {object} onTooltip.cfg.dataCfg\r\n * @param {object} [onTooltip.cfg.keyLabels]\r\n * @param {object} [onTooltip.cfg.valueLabels]\r\n * @param {function} [onMouseOver] - Function to call when mouse over, see onTooltip for callback function spec\r\n * @param {function} [onClick] - Function to call when clicked, see onTooltip for callback function spec\r\n * @param {function} [onContextMenu] - Function to call when right clicked, see onTooltip for callback function spec\r\n * @param {function} [onDoubleClick] - Function to call when double clicked, see onTooltip for callback function spec\r\n * @param {function} [onRangeChanged] - Function to call when window range changed, see onTooltip for callback function spec\r\n * @example\r\n\r\nimport _ from 'lodash'\r\nimport Timeline from 'chart/components/timeline'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = {\r\n    \"data\":[\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"tvs\":1, \"year\":1990, \"timeStart\":1501731024000, \"timeEnd\":1501731224000, \"type\":\"background\", \"className\":\"tom-bg\" },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"tvs\":2, \"year\":1990, \"timeStart\":1501731299000, \"timeEnd\":1501731324000 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":3, \"year\":1991, \"timeStart\":1501731424000, \"timeEnd\":1501731524000 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1992, \"timeStart\":1501731524000, \"timeEnd\":1501731724000 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":10, \"year\":1996, \"timeStart\":1501730184000, \"timeEnd\":1501732224000 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":2, \"year\":1997, \"timeStart\":1501732324000, \"timeEnd\":1501732424000 },\r\n        { \"director\":\"martin\", \"actor\":\"tom\", \"movies\":5, \"year\":2000, \"timeStart\":1501732624000, \"timeEnd\":1501732724000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":5, \"year\":1990, \"timeStart\":1501733324000, \"timeEnd\":1501733624000, \"className\":\"nicole-bg\" },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":4, \"year\":1991, \"timeStart\":1501734424000, \"timeEnd\":1501736624000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":3, \"year\":1992, \"timeStart\":1501735524000, \"timeEnd\":1501735624000, \"type\":\"background\" },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":6, \"year\":1993, \"timeStart\":1501710924000, \"timeEnd\":1501720924000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":1994, \"timeStart\":1501720924000, \"timeEnd\":1501730924000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":0, \"year\":1997, \"timeStart\":1501730924000, \"timeEnd\":1501750924000 },\r\n        { \"director\":\"martin\", \"actor\":\"nicole\", \"movies\":1, \"year\":2000, \"timeStart\":1501760924000, \"timeEnd\":1501737924000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":4, \"year\":1990, \"timeStart\":1501736924000, \"timeEnd\":1501738924000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1991, \"timeStart\":1501760924000, \"timeEnd\":1501770924000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":7, \"year\":1992, \"timeStart\":1501710924000, \"timeEnd\":1501720924000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":2, \"year\":1996, \"timeStart\":1501730926000, \"timeEnd\":1501734924000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":1997, \"timeStart\":1501730944000, \"timeEnd\":1501730974000 },\r\n        { \"director\":\"francis\", \"actor\":\"tom\", \"movies\":1, \"year\":2000, \"timeStart\":1501730944000, \"timeEnd\":1501730984000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1990, \"timeStart\":1501730904000, \"timeEnd\":1501730924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":3, \"year\":1991, \"timeStart\":1501732924000, \"timeEnd\":1501736924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":4, \"year\":1992, \"timeStart\":1501734924000, \"timeEnd\":1501736924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1993, \"timeStart\":1501737924000, \"timeEnd\":1501739924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":1994, \"timeStart\":1501732924000, \"timeEnd\":1501736924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":1, \"year\":1997, \"timeStart\":1501720924000, \"timeEnd\":1501730924000 },\r\n        { \"director\":\"francis\", \"actor\":\"nicole\", \"movies\":2, \"year\":2000, \"timeStart\":1501730924000, \"timeEnd\":1501770924000 },\r\n        { \"director\":\"francis\", \"movies\":2, \"year\":2000, \"timeStart\":1501730924000, \"timeEnd\":1501780924000 },\r\n        { \"actor\":\"tom\", \"movies\":2, \"year\":1994, \"timeStart\":1501330924000, \"timeEnd\":1501730924000 },\r\n        { \"actor\":\"nicole\", \"movies\":2, \"year\":2001, \"timeStart\":1501230924000, \"timeEnd\":1501230924000 }\r\n    ],\r\n    \"keyLabels\":{\r\n        \"director\": \"Director\",\r\n        \"actor\": \"Actor\",\r\n        \"year\": \"Year\",\r\n        \"timeStart\": \"Start\",\r\n        \"timeEnd\": \"End\"\r\n    },\r\n    \"valueLabels\":{\r\n        \"director\": {\"martin\":\"Martin Scorsese\", \"francis\":\"Francis Copola\"},\r\n        \"actor\": {\"tom\":\"Tom Cruise\", \"nicole\":\"Nicole Kidman\"}\r\n    }\r\n}\r\n\r\nReact.createClass({\r\n    getInitialState() {\r\n        return {\r\n            eventInfo: {},\r\n            data: {},\r\n            dataCfg: {}\r\n        }\r\n    },\r\n    handleClick(eventInfo, data, {dataCfg, keyLabels, valueLabels}) {\r\n        this.setState({\r\n            eventInfo,\r\n            data,\r\n            dataCfg\r\n        })\r\n    },\r\n    // Example of generate color by function\r\n    // renderColor(eventInfo, data, {dataCfg, keyLabels, valueLabels}) {\r\n    //     let color = '#001B34'\r\n    //     if (data.tvs) {\r\n    //         color = '#2b908f'\r\n    //     }\r\n    //     else if (data.movies) {\r\n    //         color = '#c1b748'\r\n    //     }\r\n\r\n    //     return color\r\n    // },\r\n    render() {\r\n        return <div>\r\n            <Timeline\r\n                id='actor-timeline'\r\n                title='Actor Timeline'\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                dataCfg={{\r\n                    splitGroup: 'actor',\r\n                    timeStart: 'timeStart',\r\n                    timeEnd: 'timeEnd',\r\n                    agg: ['movies','tvs']\r\n                }}\r\n                colors={{\r\n                    movies: '#c1b748',\r\n                    tvs: '#2b908f'\r\n                }}\r\n                // colors={this.renderColor}\r\n                verticalScroll={true}\r\n                onClick={this.handleClick} />\r\n        </div>\r\n    }\r\n})\r\n */\r\nconst Timeline = toWidget(BaseTimeline)\r\n\r\nexport default Timeline","/**\r\n * Defines commonly used prop types, as well as prop type generators\r\n */\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport React from 'react';\r\n\r\n\r\n/**\r\n * Data item prop\r\n */\r\nexport const DATA_ITEM_PROP =\r\n    PropTypes.objectOf(\r\n        PropTypes.oneOfType([\r\n            PropTypes.string,\r\n            PropTypes.number,\r\n            PropTypes.object\r\n        ])\r\n    )\r\n\r\n\r\n/**\r\n * Single key mapping prop\r\n */\r\nexport const KEY_MAPPING_PROP =\r\n    PropTypes.oneOfType([\r\n        PropTypes.arrayOf(PropTypes.string),\r\n        PropTypes.string\r\n    ])\r\n\r\n/**\r\n * Aggregation type\r\n */\r\nexport const AGG_TYPE_PROP =\r\n    PropTypes.oneOf(['count', 'sum', 'avg'])","import _ from 'lodash'\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react'\r\n\r\nimport {DATA_ITEM_PROP, KEY_MAPPING_PROP} from '../consts/prop-types'\r\n\r\nlet log = require('loglevel').getLogger('chart/hoc/split-charts')\r\n\r\nconst COLORS = [\r\n    '#7cb5ec', '#434348', '#90ed7d', '#f7a35c', '#8085e9',\r\n    '#f15c80', '#e4d354', '#2b908f', '#f45b5b', '#91e8e1',\r\n    '#b09901', '#06ce72', '#477e58', '#c26a6e', '#c1b748'\r\n]\r\n\r\nexport default function splitCharts(Component) {\r\n    return class extends React.Component {\r\n        static propTypes = {\r\n            data: PropTypes.arrayOf(DATA_ITEM_PROP).isRequired,\r\n            dataCfg: PropTypes.shape({\r\n                splitChart: KEY_MAPPING_PROP\r\n            }),\r\n            keyLabels: DATA_ITEM_PROP,\r\n            valueLabels: PropTypes.objectOf(DATA_ITEM_PROP),\r\n            colors: PropTypes.object\r\n        };\r\n\r\n        getChartTitle = (labels, splitChartPath, chartKey) => {\r\n            if (chartKey==null || chartKey==='undefined') {\r\n                return 'others'\r\n            }\r\n            return _.reduce([splitChartPath, chartKey], (acc, path)=>{\r\n                return _.get(acc, path, chartKey)\r\n            }, labels)\r\n        };\r\n\r\n        getAxisChartColors = () => {\r\n            const {data, dataCfg:{y, splitSeries}} = this.props\r\n\r\n            // Case 1: Not split by series (ie each split chart only has 1 series)\r\n            // Case 2: Y is not given (use splitSeries as key)\r\n            // Case 3: Both splitSeries & y given\r\n            // For 1 & 2, don't need to sync coloring across charts, just use HightChart default\r\n            if (splitSeries && y) {\r\n                const keys = _(data)\r\n                    .map(i=>_.get(i, splitSeries))\r\n                    .uniq()\r\n                    .value()\r\n                return _.zipObject(keys, COLORS)\r\n            }\r\n            return null\r\n        };\r\n\r\n        getPieChartColors = () => {\r\n            const {data, dataCfg:{splitSlice}} = this.props\r\n            let colorIdx = 0\r\n            const colors = _.reduce(splitSlice, (acc, slicePath)=>{\r\n                const keys = _(data)\r\n                    .map(i=>_.get(i, slicePath))\r\n                    .uniq()\r\n                    .value()\r\n                const numColors = keys.length\r\n                _.set(acc, slicePath, _.zipObject(keys, COLORS.slice(colorIdx, colorIdx+numColors)))\r\n                colorIdx += numColors\r\n                return acc\r\n            }, {})\r\n            return colors\r\n        };\r\n\r\n        renderChart = (id, data) => {\r\n            const {keyLabels, valueLabels, dataCfg, colors} = this.props\r\n            const {splitChart} = dataCfg\r\n            const title = this.getChartTitle(valueLabels, splitChart, id)\r\n\r\n            let propsToOverwrite = _.reduce(['onTooltip', 'onMouseOver', 'onClick', 'onDoubleClick', 'onContextMenu'], (acc, p)=>{\r\n                if (_.has(this.props, p)) {\r\n                    if (typeof this.props[p] === 'function') {\r\n                        acc[p] = (eventInfo, matched, cfg)=>{\r\n                            return this.props[p](\r\n                                {splitChart:id, ...eventInfo},\r\n                                matched,\r\n                                cfg\r\n                            )\r\n                        }\r\n                    }\r\n                }\r\n                return acc\r\n            }, {})\r\n\r\n            switch (Component.displayName) {\r\n                case 'BaseTableChart':\r\n                case 'BaseTimeline':\r\n                    propsToOverwrite.title = title\r\n                    break\r\n                case 'BasePieChart':\r\n                    propsToOverwrite.colors = colors || this.getPieChartColors()\r\n                    propsToOverwrite.centerText = title\r\n                    break\r\n                /*case 'BarChart':\r\n                case 'LineChart':\r\n                case 'AreaChart':*/\r\n                case 'BaseAxisChart':\r\n                    propsToOverwrite.colors = colors || this.getAxisChartColors()\r\n                    //propsToOverwrite.yAxis = {...this.props.yAxis, title}\r\n                    propsToOverwrite.yAxis = _.merge({title:{text:title}}, this.props.yAxis)\r\n\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n            return React.createElement(Component, {\r\n                ...this.props,\r\n                key: id,\r\n                id,\r\n                data,\r\n                dataCfg,\r\n                keyLabels,\r\n                valueLabels,\r\n                ...propsToOverwrite\r\n            })\r\n        };\r\n\r\n        render() {\r\n            const {data, dataCfg:{splitChart}} = this.props\r\n\r\n            if (splitChart) {\r\n                return <div className='c-chart-split'>\r\n                    {\r\n                    _(data)\r\n                        .groupBy(item=>_.get(item, splitChart))\r\n                        .map((v, k)=>{\r\n                            return this.renderChart(k, v)\r\n                        })\r\n                        .value()\r\n                }\r\n                </div>\r\n            }\r\n            else {\r\n                return <Component {...this.props} />\r\n            }\r\n        }\r\n    };\r\n}","import React from 'react'\r\nimport cx from 'classnames'\r\nimport _ from 'lodash'\r\nimport splitCharts from './split-charts'\r\nimport {multiTraverse} from '../utils/traversal'\r\n\r\nlet log = require('loglevel').getLogger('chart/hoc/widget-provider')\r\n\r\nfunction renderTooltip(eventInfo, matched, {dataCfg, keyLabels, valueLabels}) {\r\n    const fields = _.reduce(dataCfg, (acc, keys, i)=>{\r\n        const event = eventInfo[i]\r\n        if (i==='splitSlice' || i === 'agg') {\r\n            _.forEach(keys, (k, j)=>{\r\n                acc.push({key:k, value:event[j]})\r\n            })\r\n        }\r\n        else if (!dataCfg.y && i==='splitSeries') {\r\n            acc.push({key:event, value:eventInfo.y})\r\n        }\r\n        else {\r\n            acc.push({key:keys, value:event})\r\n        }\r\n        return acc\r\n    }, [])\r\n    return <span>\r\n        {\r\n            _.map(fields, ({key, value})=>{\r\n                return <span key={key}>\r\n                    {_.get(keyLabels, key, key)}:\r\n                    {multiTraverse(valueLabels, [key, value], value)}\r\n                    <br />\r\n                </span>\r\n            })\r\n        }\r\n    </span>\r\n}\r\n\r\nconst toWidget = (BaseComponent) => {\r\n    const SplitComponent = splitCharts(BaseComponent)\r\n\r\n    return (props)=>{\r\n        const {id, className, title, ...chartProps} = props\r\n        const Component = chartProps.dataCfg.splitChart ? SplitComponent : BaseComponent\r\n        const defaultTooltip = chartProps.onTooltip==null || chartProps.onTooltip===true\r\n\r\n        return <div id={id} className={cx('c-chart', className)}>\r\n            {title && <header>{title}</header>}\r\n            <Component {...chartProps} onTooltip={defaultTooltip?renderTooltip:chartProps.onTooltip} />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default toWidget","import _ from 'lodash'\r\n\r\nexport function multiTraverse(obj, paths, defaultValue) {\r\n    return _.reduce(paths, (acc, path)=>{\r\n        return _.get(acc, path, defaultValue)\r\n    }, obj)\r\n}\r\n\r\nexport default {\r\n    multiTraverse\r\n}","module.exports = {\"data\":[{\"director\":\"martin\",\"tom\":2,\"nicole\":5,\"year\":1990},{\"director\":\"martin\",\"tom\":3,\"nicole\":4,\"year\":1991},{\"director\":\"martin\",\"tom\":2,\"nicole\":3,\"year\":1992},{\"director\":\"martin\",\"nicole\":6,\"year\":1993},{\"director\":\"martin\",\"nicole\":1,\"year\":1994},{\"director\":\"martin\",\"tom\":10,\"year\":1996},{\"director\":\"martin\",\"tom\":2,\"nicole\":0,\"year\":1997},{\"director\":\"martin\",\"tom\":5,\"nicole\":1,\"year\":2000},{\"director\":\"francis\",\"tom\":4,\"nicole\":1,\"year\":1990},{\"director\":\"francis\",\"tom\":2,\"nicole\":3,\"year\":1991},{\"director\":\"francis\",\"tom\":7,\"nicole\":4,\"year\":1992},{\"director\":\"francis\",\"nicole\":1,\"year\":1993},{\"director\":\"francis\",\"nicole\":2,\"year\":1994},{\"director\":\"francis\",\"tom\":2,\"year\":1996},{\"director\":\"francis\",\"tom\":1,\"nicole\":0,\"year\":1997},{\"director\":\"francis\",\"tom\":1,\"nicole\":2,\"year\":2000},{\"tom\":1,\"nicole\":2,\"year\":2000}],\"dataCfg\":{\"splitChart\":\"director\",\"x\":\"year\",\"splitLine\":[\"tom\",\"nicole\"]},\"keyLabels\":{\"director\":\"Director\",\"actor\":\"Actor\",\"movies\":\"# movies\",\"year\":\"Year\",\"tom\":\"Tom Cruise\",\"nicole\":\"Nicole Kidman\"},\"valueLabels\":{\"director\":{\"martin\":\"Martin Scorses\",\"francis\":\"Francis Copola\"}}}","module.exports = {\"data\":[{\"director\":\"martin\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":1,\"tvs\":0,\"produced\":{\"year\":1990}},{\"director\":\"martin\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":2,\"tvs\":4,\"produced\":{\"year\":1990}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":3,\"produced\":{\"year\":1991}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":2,\"produced\":{\"year\":1992}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":10,\"produced\":{\"year\":1996}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":2,\"produced\":{\"year\":1997}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"tom\",\"tomato.id\":\"1\"},\"movies\":5,\"produced\":{\"year\":2000}},{\"director\":\"martin\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":5,\"produced\":{\"year\":1990}},{\"director\":\"martin\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":4,\"produced\":{\"year\":1991}},{\"director\":\"martin\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":3,\"produced\":{\"year\":1992}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":6,\"produced\":{\"year\":1993}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":1,\"produced\":{\"year\":1994}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":0,\"produced\":{\"year\":1997}},{\"director\":\"francis\",\"actor\":{\"imdb.id\":\"nicole\",\"tomato.id\":\"2\"},\"movies\":1,\"produced\":{\"year\":2000}}],\"keyLabels\":{\"director\":\"Director\",\"actor\":{\"imdb.id\":\"Actor\"},\"movies\":\"# movies\",\"produced.year\":\"Year\"},\"valueLabels\":{\"director\":{\"martin\":\"Martin Scorsese\",\"francis\":\"Francis Copola\"},\"actor\":{\"imdb.id\":{\"tom\":\"Tom Cruise\",\"nicole\":\"Nicole Kidman\"}}}}","module.exports = {\"data\":[{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":2,\"tvs\":1,\"year\":1990,\"timeStart\":1501731024000,\"timeEnd\":1501731224000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":3,\"tvs\":2,\"year\":1990,\"timeStart\":1501731299000,\"timeEnd\":1501731324000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":3,\"year\":1991,\"timeStart\":1501731424000,\"timeEnd\":1501731524000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":2,\"year\":1992,\"timeStart\":1501731524000,\"timeEnd\":1501731724000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":10,\"year\":1996,\"timeStart\":1501730184000,\"timeEnd\":1501732224000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":2,\"year\":1997,\"timeStart\":1501732324000,\"timeEnd\":1501732424000},{\"director\":\"martin\",\"actor\":\"tom\",\"movies\":5,\"year\":2000,\"timeStart\":1501732624000,\"timeEnd\":1501732724000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":5,\"year\":1990,\"timeStart\":1501733324000,\"timeEnd\":1501733624000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":4,\"year\":1991,\"timeStart\":1501734424000,\"timeEnd\":1501736624000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":3,\"year\":1992,\"timeStart\":1501735524000,\"timeEnd\":1501735624000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":6,\"year\":1993,\"timeStart\":1501710924000,\"timeEnd\":1501720924000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":1,\"year\":1994,\"timeStart\":1501720924000,\"timeEnd\":1501730924000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":0,\"year\":1997,\"timeStart\":1501730924000,\"timeEnd\":1501750924000},{\"director\":\"martin\",\"actor\":\"nicole\",\"movies\":1,\"year\":2000,\"timeStart\":1501760924000,\"timeEnd\":1501737924000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":4,\"year\":1990,\"timeStart\":1501736924000,\"timeEnd\":1501738924000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":2,\"year\":1991,\"timeStart\":1501760924000,\"timeEnd\":1501770924000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":7,\"year\":1992,\"timeStart\":1501710924000,\"timeEnd\":1501720924000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":2,\"year\":1996,\"timeStart\":1501730926000,\"timeEnd\":1501734924000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":1,\"year\":1997,\"timeStart\":1501730944000,\"timeEnd\":1501730974000},{\"director\":\"francis\",\"actor\":\"tom\",\"movies\":1,\"year\":2000,\"timeStart\":1501730944000,\"timeEnd\":1501730984000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":1,\"year\":1990,\"timeStart\":1501730904000,\"timeEnd\":1501730924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":3,\"year\":1991,\"timeStart\":1501732924000,\"timeEnd\":1501736924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":4,\"year\":1992,\"timeStart\":1501734924000,\"timeEnd\":1501736924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":1,\"year\":1993,\"timeStart\":1501737924000,\"timeEnd\":1501739924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":2,\"year\":1994,\"timeStart\":1501732924000,\"timeEnd\":1501736924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":1,\"year\":1997,\"timeStart\":1501720924000,\"timeEnd\":1501730924000},{\"director\":\"francis\",\"actor\":\"nicole\",\"movies\":2,\"year\":2000,\"timeStart\":1501730924000,\"timeEnd\":1501770924000},{\"director\":\"francis\",\"movies\":2,\"year\":2000,\"timeStart\":1501730924000,\"timeEnd\":1501780924000},{\"actor\":\"tom\",\"movies\":2,\"year\":1994,\"timeStart\":1501330924000,\"timeEnd\":1501730924000},{\"actor\":\"nicole\",\"movies\":2,\"year\":2001,\"timeStart\":1501230924000,\"timeEnd\":1501230924000}],\"keyLabels\":{\"director\":\"Director\",\"actor\":\"Actor\",\"year\":\"Year\",\"timeStart\":\"Start\",\"timeEnd\":\"End\"},\"valueLabels\":{\"director\":{\"martin\":\"Martin Scorsese\",\"francis\":\"Francis Copola\"},\"actor\":{\"tom\":\"Tom Cruise\",\"nicole\":\"Nicole Kidman\"}}}","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { Router, browserHistory } from 'react-router'\r\nimport loglevel from 'loglevel'\r\nimport logger from 'loglevel-prefix-persist/client'\r\n\r\nimport 'purecss/build/pure-min.css'\r\nimport 'react-ui/build/css/react-ui.css'\r\n//import 'react-chart/build/css/react-chart.css'\r\n\r\nlet initialState = JSON.parse(document.getElementById('initial-state').innerHTML)\r\n\r\nlet {envCfg:cfg} = initialState\r\n\r\nlet log = logger(cfg.env, loglevel, cfg.log)\r\n\r\nlet Routes = require('./routes').default\r\n\r\nrender((\r\n    <Router history={browserHistory}>\r\n        {Routes}\r\n    </Router>\r\n), document.getElementById('app-container'))\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\nimport $ from 'jquery'\r\nimport queryString from 'query-string'\r\n\r\nimport AreaChart from 'chart/components/area'\r\nimport BarChart from 'chart/components/bar'\r\nimport LineChart from 'chart/components/line'\r\nimport PieChart from 'chart/components/pie'\r\nimport Timeline from 'chart/components/timeline'\r\nimport ah from 'react-ui/build/src/utils/ajax-helper'\r\n\r\nimport createExample from './example-factory'\r\n\r\nimport imdbData from '../mock/imdb.json'\r\nimport imdbData2 from '../mock/imdb-key.json'\r\nimport imdbData3 from '../mock/imdb-nested.json'\r\n\r\nlet Examples = {}\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = imdbData\r\nconst {data:DATA2, keyLabels:KEY_LABELS2, valueLabels:VALUE_LABELS2} = imdbData2\r\nconst {data:DATA3, keyLabels:KEY_LABELS3, valueLabels:VALUE_LABELS3} = imdbData3\r\n\r\n\r\nExamples.BarChart = class extends React.Component {\r\n    state = {\r\n    };\r\n\r\n    render() {\r\n        return <div>\r\n            <BarChart\r\n                title='Simple minimal bars'\r\n                data={DATA3}\r\n                keyLabels={KEY_LABELS3}\r\n                valueLabels={VALUE_LABELS3}\r\n                xAxis={{lineWidth:0, tickWidth:0,type:'category'}}\r\n                yAxis={{visible:false}}\r\n                legend={{enabled:false}}\r\n                dataCfg={{\r\n                    x: ['actor','imdb.id'],\r\n                    y: 'movies'\r\n                }} />\r\n            <BarChart\r\n                title='Actors by Year (column, stacked)'\r\n                stacked\r\n                vertical\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                onTooltip={true}\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <BarChart\r\n                title='Actors by Year (bar, side by side)'\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                colors={{\r\n                    tom:'#c1b748',\r\n                    nicole:'#2b908f'\r\n                }}\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <BarChart\r\n                title='Actors by Director (bar key as series name)'\r\n                vertical\r\n                data={DATA2}\r\n                keyLabels={KEY_LABELS2}\r\n                valueLabels={VALUE_LABELS2}\r\n                colors={{\r\n                    tom:'#c1b748',\r\n                    nicole:'#2b908f'\r\n                }}\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitSeries: ['nicole','tom'],\r\n                    x: 'year'\r\n                }} />\r\n        </div>\r\n    }\r\n}\r\n\r\nExamples.AreaChart = class extends React.Component {\r\n    state = {\r\n    };\r\n\r\n    render() {\r\n        return <AreaChart\r\n            className='c-test'\r\n            title='Area Chart by Director'\r\n            stacked\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            plotOptions={{series:{fillOpacity:0.4,marker:{enabled:false}}}}\r\n            dataCfg={{\r\n                splitChart: 'director',\r\n                splitSeries: 'actor',\r\n                x: 'year',\r\n                y: 'movies'\r\n            }} />\r\n    }\r\n}\r\n\r\nExamples.PieChart = class extends React.Component {\r\n    state = {\r\n    };\r\n\r\n    render() {\r\n        return <div>\r\n            <PieChart\r\n                title='Pie Charts By Director'\r\n                data={DATA3}\r\n                keyLabels={KEY_LABELS3}\r\n                valueLabels={VALUE_LABELS3}\r\n                holeSize={70}\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitSlice: ['produced.year', ['actor','imdb.id']],\r\n                    sliceSize: 'movies'\r\n                }} />\r\n            <PieChart\r\n                title='Single Pie Chart'\r\n                data={[\r\n                    {name:'a',age:{band:30},occupation:'teacher',appears:10}, \r\n                    {name:'b',age:{band:40},occupation:'criminal',appears:15},\r\n                    {name:'c',age:{band:40},occupation:'teacher',appears:15}\r\n                ]}\r\n                colors={{\r\n                    age:{\r\n                        band:{\r\n                            30:'#c1b748',\r\n                            40:'#2b908f'\r\n                        }\r\n                    },\r\n                    occupation:{\r\n                        teacher:'#f15c80',\r\n                        criminal:'#8085e9'\r\n                    }\r\n                }}\r\n                holeSize={70}\r\n                centerText={<div><b>Center</b>Text</div>}\r\n                keyLabels={{\r\n                    age:{\r\n                        band:'Age Range'\r\n                    }\r\n                }}\r\n                dataCfg={{\r\n                    splitSlice: [['age','band'], 'occupation'],\r\n                    sliceSize: 'appears'\r\n                }} />\r\n            <PieChart\r\n                title='Single Pie Chart 2'\r\n                data={[\r\n                    {name:'a', count:20},\r\n                    {name:'b', count:80}\r\n                ]}\r\n                colors={{\r\n                    name:{\r\n                        a:'#c1b748',\r\n                        b:'#2b908f'\r\n                    }\r\n                }}\r\n                holeSize={70}\r\n                centerText='80%'\r\n                dataCfg={{\r\n                    splitSlice: ['name'],\r\n                    sliceSize: 'count'\r\n                }} />\r\n        </div>\r\n    }\r\n}\r\n\r\nExamples.LineChart = class extends React.Component {\r\n    state = {\r\n    };\r\n\r\n    render() {\r\n        return <LineChart\r\n            title='Line Charts by Actor'\r\n            stacked\r\n            vertical\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            dataCfg={{\r\n                splitChart: 'actor',\r\n                splitSeries: 'director',\r\n                x: 'year',\r\n                y: 'movies'\r\n            }} />\r\n    }\r\n}\r\n\r\nExamples.Timeline = class extends React.Component {\r\n    state = {\r\n        eventInfo: {},\r\n        data: {},\r\n        dataCfg: {}\r\n    };\r\n\r\n    handleClick = (eventInfo, data, {dataCfg, keyLabels, valueLabels}) => {\r\n        this.setState({\r\n            eventInfo,\r\n            data,\r\n            dataCfg\r\n        })\r\n    };\r\n\r\n    // Example of generate color by function\r\n    // renderColor(eventInfo, data, {dataCfg, keyLabels, valueLabels}) {\r\n    //     let color = '#001B34'\r\n    //     if (data.tvs) {\r\n    //         color = '#2b908f'\r\n    //     }\r\n    //     else if (data.movies) {\r\n    //         color = '#c1b748'\r\n    //     }\r\n\r\n    //     return color\r\n    // },\r\n    handleRangeChanged = (eventInfo, data, {dataCfg, keyLabels, valueLabels}) => {\r\n        this.setState({\r\n            eventInfo,\r\n            data,\r\n            dataCfg\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return <div>\r\n            <Timeline\r\n                ref={node => { this.chartNode = node }}\r\n                id='actor-timeline'\r\n                title='Actor Timeline'\r\n                data={DATA}\r\n                keyLabels={KEY_LABELS}\r\n                valueLabels={VALUE_LABELS}\r\n                dataCfg={{\r\n                    splitGroup: 'actor',\r\n                    timeStart: 'timeStart',\r\n                    timeEnd: 'timeEnd',\r\n                    agg: ['movies','tvs']\r\n                }} \r\n                colors={{\r\n                    movies: '#c1b748',\r\n                    tvs: '#2b908f'\r\n                }}\r\n                // colors={this.renderColor}\r\n                verticalScroll={true}\r\n                onClick={this.handleClick}\r\n                onRangeChanged={this.handleRangeChanged} />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    render() {\r\n        return <div>\r\n            {\r\n                _.map(Examples, (example, key)=>{\r\n                    return React.createElement(createExample(example, key), {key})\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n}\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\nimport cx from 'classnames'\r\nimport Promise from 'bluebird'\r\nimport BarChart from 'chart/components/bar'\r\nimport LineChart from 'chart/components/line'\r\nimport PieChart from 'chart/components/pie'\r\nimport AreaChart from 'chart/components/area'\r\nimport SummaryTable from 'chart/components/table'\r\nimport Dashboard from 'chart/components/dashboard'\r\n\r\nimport createExample from './example-factory'\r\n\r\nimport imdbData from '../mock/imdb.json'\r\n\r\nlet Examples = {}\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = imdbData\r\n\r\nExamples.Dashboard = class extends React.Component {\r\n    state = {\r\n        filter: {},\r\n        event: {}\r\n    };\r\n\r\n    handleFilter = (filter) => {\r\n        this.setState({filter})\r\n    };\r\n\r\n    handleDoubleClick = (widgetId, eventInfo, data, cfg) => {\r\n        this.setState({event:{type:'global double-click', widgetId, eventInfo, data, cfg}})\r\n    };\r\n\r\n    handleContextMenu = (widgetId, eventInfo, data, cfg) => {\r\n        this.setState({event:{type:'global right-click', widgetId, eventInfo, data, cfg}})\r\n    };\r\n\r\n    handleActorChartDoubleClick = (eventInfo, data, cfg) => {\r\n        this.setState({event:{type:'child double-click', eventInfo, data, cfg}})\r\n    };\r\n\r\n    render() {\r\n        const {filter} = this.state\r\n\r\n        // Set charts' layout, the order need to be same as the order in DOM\r\n        // Remember to properly set the layout, or it may crash\r\n        const layout = [\r\n            {x:0, y:0, w:9, h:2},\r\n            {x:9, y:0, w:9, h:4},\r\n            {x:0, y:2, w:9, h:6},\r\n            {x:0, y:8, w:18, h:2},\r\n            {x:9, y:4, w:9, h:4}\r\n        ]\r\n\r\n        return <Dashboard\r\n            data={DATA}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            onDoubleClick={this.handleDoubleClick}\r\n            onContextMenu={this.handleContextMenu}\r\n            onFilter={this.handleFilter}\r\n            filter={filter}\r\n            layoutCfg={{layout, cols:18}}>\r\n            <SummaryTable\r\n                id='actor-chart'\r\n                title='Directors table'\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitRow: [ 'actor'],\r\n                    agg: ['movies', 'tvs']\r\n                }}\r\n                onDoubleClick={this.handleActorChartDoubleClick} />\r\n            <AreaChart\r\n                id='director-split-actor-area-chart'\r\n                className='c-test'\r\n                title='Area Chart by Director'\r\n                dataCfg={{\r\n                    splitChart: 'director',\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <PieChart\r\n                id='actor-pie-chart'\r\n                title='Pie Charts By Year'\r\n                holeSize={70}\r\n                dataCfg={{\r\n                    splitChart: 'year',\r\n                    splitSlice: ['director', 'actor'],\r\n                    sliceSize: 'movies'\r\n                }} />\r\n            <BarChart\r\n                id='actor-bar-chart'\r\n                title='Actors by Year'\r\n                stacked\r\n                vertical\r\n                dataCfg={{\r\n                    splitSeries: 'actor',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n            <LineChart\r\n                id='director-split-actor-line-chart'\r\n                title='Line Charts by Actor'\r\n                stacked\r\n                vertical\r\n                dataCfg={{\r\n                    splitChart: 'actor',\r\n                    splitSeries: 'director',\r\n                    x: 'year',\r\n                    y: 'movies'\r\n                }} />\r\n        </Dashboard>\r\n    }\r\n}\r\n\r\n\r\nexport default class extends React.Component {\r\n    render() {\r\n        return <div id='example-tabs'>\r\n            {\r\n                _.map(Examples, (example, key)=>{\r\n                    return React.createElement(createExample(example, key), {key})\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\n\r\nexport default function (Component, title) {\r\n    return class extends React.Component {\r\n        state = {};\r\n\r\n        componentDidMount() {\r\n            this.interval = setInterval(()=>{\r\n                this.updateStateInfo()\r\n            }, 500)\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            clearInterval(this.interval)\r\n        }\r\n\r\n        updateStateInfo = () => {\r\n            if (JSON.stringify(this.component.state || {}) !== JSON.stringify(this.state)) {\r\n                this.setState(this.component.state || {})\r\n            }\r\n        };\r\n\r\n        render() {\r\n            return <fieldset>\r\n                <legend>{title}</legend>\r\n                <div className='example'>\r\n                    <div className='demo'>\r\n                        <Component ref={ref=>{ this.component=ref }} />\r\n                    </div>\r\n                    <pre className='state'>\r\n                        {JSON.stringify(this.state, null, '  ')}\r\n                    </pre>\r\n                </div>\r\n            </fieldset>\r\n        }\r\n    };\r\n}","import PropTypes from 'prop-types';\r\nimport React from 'react'\r\nimport _ from 'lodash'\r\nimport { Route, Link } from 'react-router'\r\n\r\nimport Charts from './charts'\r\nimport Table from './table'\r\n//import Heatmap from './heatmap'\r\nimport Dashboard from './dashboard'\r\n\r\n\r\nconst MENU = {\r\n    charts: {component:Charts, title:'Charts'},\r\n    table: {component:Table, title:'Table'},\r\n   // heatmap: {component:Heatmap, title:'Heatmap'},\r\n    dashboard: {component:Dashboard, title:'Dashboard'}\r\n}\r\n\r\nconst NoMatch = () => <div>Page Not Found!</div>\r\n\r\nclass Examples extends React.Component {\r\n    static propTypes = {\r\n        children: PropTypes.node\r\n    };\r\n\r\n    render() {\r\n        return <div id='g-app'>\r\n            <div id='g-header'>\r\n                <ul id='g-menu'>\r\n                    {\r\n                        _.map(MENU, ({title, component}, tag)=><Link key={tag} activeClassName='current' to={{pathname:tag}}>{title}</Link>)\r\n                    }\r\n                    <li>\r\n                        <a href='/docs' target='_blank'>API Documentation</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                {\r\n                    this.props.children\r\n                }\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst Routes = (\r\n    <Route path='/' component={Examples}>\r\n        {\r\n            _.map(MENU, ({component}, tag)=><Route key={tag} path={tag} component={component} />)\r\n        }\r\n        <Route path='*' component={NoMatch} />\r\n    </Route>)\r\n\r\nexport default Routes","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nimport TableChart from 'chart/components/table'\r\n\r\nimport createExample from './example-factory'\r\n\r\nimport imdbData from '../mock/imdb.json'\r\nimport imdbData2 from '../mock/imdb-nested.json'\r\n\r\nconst {data:DATA, keyLabels:KEY_LABELS, valueLabels:VALUE_LABELS} = imdbData\r\nconst {data:DATA2, keyLabels:KEY_LABELS2, valueLabels:VALUE_LABELS2} = imdbData2\r\n\r\nlet Examples = {}\r\n\r\nExamples.SplitTableChart = class extends React.Component {\r\n    handleClick = (eventInfo, matched, cfg) => {\r\n        this.setState({eventInfo, matched})\r\n    };\r\n\r\n    render() {\r\n        return <TableChart\r\n            id='director-split-actor-chart'\r\n            className='c-flex'\r\n            data={DATA}\r\n            dataCfg={{\r\n                splitChart: 'director',\r\n                splitRow: ['actor', 'year'],\r\n                agg: ['movies', 'tvs']\r\n            }}\r\n            keyLabels={KEY_LABELS}\r\n            valueLabels={VALUE_LABELS}\r\n            onClick={this.handleClick} />\r\n    }\r\n}\r\n\r\nExamples.TableChart = class extends React.Component {\r\n    handleClick = (eventInfo, matched, cfg) => {\r\n        this.setState({matched})\r\n    };\r\n\r\n    render() {\r\n        return <TableChart\r\n            id='actor-chart'\r\n            title='Actors'\r\n            data={DATA2}\r\n            dataCfg={{\r\n                splitRow: [['actor','imdb.id']],\r\n                agg: ['movies', 'tvs']\r\n            }}\r\n            keyLabels={KEY_LABELS2}\r\n            valueLabels={VALUE_LABELS2}\r\n            onClick={this.handleClick} />\r\n    }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    render() {\r\n        return <div>\r\n            {\r\n                _.map(Examples, (example, key)=>{\r\n                    return React.createElement(createExample(example, key), {key})\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n}\r\n"],"sourceRoot":""}